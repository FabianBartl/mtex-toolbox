<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">


<title>Grain Reconstruction | MTEX</title>

<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">

<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="css/theme-mtex.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<!-- Favicons -->
<link rel="apple-touch-icon" type="image/png" sizes="100x100" href="images/favicons/favicon.png">
<link rel="icon" type="image/png" sizes="100x100" href="images/favicons/favicon.png">
<link rel="manifest" href="images/favicons/manifest.json">
<meta name="msapplication-TileColor" content="#149983">
<meta name="msapplication-TileImage" size="100x100" type="image/png" content="images/favicons/favicon.png">
<meta name="theme-color" content="#149983">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

<!-- enable MathJax
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          inlineMath: [['$','$']]
      }
  });
</script>-->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand" href="index"><img src="images/icons/MTEX_100x67px.png"></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <br><br>
            <ul class="nav navbar-nav navbar-right">

                <!-- topnav -->
                
                
                    
                        
                        
                            <li><a href="index">Home</a></li>
                        
                    
                        
                        
                            <li><a href="download">Download</a></li>
                        
                    
                        
                        
                            <li><a href="Documentation">Documentation</a></li>
                        
                    
                        
                        
                            <li><a href="function_reference">Function Reference</a></li>
                        
                    
                        
                        
                            <li><a href="examples">Examples</a></li>
                        
                    
                        
                        
                            <li><a href="workshop24">Workshops</a></li>
                        
                    
                        
                        
                            <li><a href="people">People</a></li>
                        
                    
                        
                        
                            <li><a href="search"><i class="fa fa-search"></i></a></li>
                        
                    
                

                
            </ul>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Topics </li>
  
  
  
  <li>
      <a class="no_icon" href="#">Tutorials</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="EBSDTutorial.html">EBSD</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainTutorial.html">Grains</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureTutorial.html">Pole Figure Data</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFTutorial.html">ODFs</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ImportFromVPSC.html">Import from VPSC</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">General Concepts</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="MTEXScripts.html">MTEX Scripts</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ListsAndIndexing.html">Lists and Indexing</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GeneralConceptsConfiguration.html">Configuration</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GeneralConceptsOptions.html">Options</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Properties.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OptimalKernel.html">Optimal Kernel Selection</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ClusterDemo.html">Cluster demo</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Vectors</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="VectorsDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsDensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsAxes.html">Axes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorGrids.html">Spherical Grids</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Rotations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="RotationDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationImproper.html">Improper Rotations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationPlotting.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationFibre.html">Fibres</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationSpinTensor.html">Spin Tensor</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Crystal Geometry</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="CrystalSymmetries.html">Crystal Symmetries</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalDirections.html">Miller Indicies</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalReferenceSystem.html">Reference System</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SymmetryAlignment.html">Crystal Axes Alignment</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalShapes.html">Crystal Shapes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalShapeSmorf.html">Advanced Crystal Shapes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FundamentalSector.html">Fundamental Sector</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="QuasiCrystals.html">Quasi Symmetries</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Orientations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="OrientationDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DefinitionAsCoordinateTransform.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationSymmetry.html">Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationStandard.html">Standard Orientations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MTEXvsBungeConvention.html">MTEX vs. Bunge Convention</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationPoleFigure.html">Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationInversePoleFigure.html">Inverse Pole Figure</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationVisualization3d.html">3D Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationVisualizationSections.html">Section Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationFundamentalRegion.html">Fundamenal Region</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SpecimenSymmetry.html">Specimen Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationGrid.html">Grids</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationFibre.html">Fibres</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationEmbeddings.html">Embeddings</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Misorientations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="MisorientationTheory.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Twinning.html">Twinning</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MisorientationDistributionFunction.html">Misorientation Distribution Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AxisDistributionFunction.html">Axis Distribution Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AngleDistributionFunction.html">Angle Distribution Function</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">ODF</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="ODFTheory.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFModeling.html">Calculations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPlot.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPoleFigure.html">Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFInversePoleFigure.html">Inverse Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EulerAngleSections.html">Euler Angle Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SigmaSections.html">Sigma Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFComponents.html">Components</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFCharacteristics.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RadialODFs.html">Radial ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FibreODFs.html">Fibre ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BinghamODFs.html">Bingham ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunHarmonicRepresentation.html">Series Expansion</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RandomSampling.html">Random Sampling</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DetectionOfSampleSymmetry.html">Sample Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFShapes.html">Shapes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Pole Figures</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="PoleFigureImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigurePlot.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureCorrection.html">Modify</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODF.html">ODF Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureSimulation.html">Simulation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODFAmbiguity.html">The Gost Effect</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODFGhostCorrection.html">Ghost Correction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureSantaFe.html">Santa Fe Example</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureDubna.html">Dubna Example</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureExport.html">Export</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">EBSD</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="EBSDImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDReferenceFrame.html">Reference Frame</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDPlotting.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDIPFMap.html">IPF Maps</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationPlots.html">Orientation Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSelect.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDIndex.html">Select by Index</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationAnalysis.html">Orientation Analysis</a></li>
          
          
          
          
          
          
          <li class="active"><a class="no_icon" href="GrainReconstruction.html">Grain Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDGrid.html">Square and Hex Grids</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDDenoising.html">Denoising</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDFilling.html">Filling Missing Data</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDInter.html">Regridding and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSD2ODF.html">ODF Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationPlots.html">Orientation Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSharpPlot.html">Sharp Color Keys</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDAdvancedMaps.html">Advanced Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDKAM.html">KAM</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDGROD.html">Mis2Mean / GROD</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDProfile.html">Profiles</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSimulation.html">Simulation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDExport.html">Export</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Grains</a>
      <ul>
          
          
          
          <li class="active"><a class="no_icon" href="GrainReconstruction.html">Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainSpatialPlots.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SelectingGrains.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ShapeParameters.html">Shape Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EllipseBasedParameters.html">Ellipse Fitting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="HullBasedParameters.html">Convex Hull Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ProjectionBasedParameters.html">Projection Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainOrientationParameters.html">Orientation Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainNeighbours.html">Neighbours</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainMerge.html">Merge</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainReconstructionAdvanced.html">Advanced Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="NeperInterface.html">Neper Interface</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Grain Boundaries</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="BoundarySelect.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryPlots.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryProperties.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SubGrainBoundaries.html">Subgrain Boundaries</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TiltAndTwistBoundaries.html">Twist and Tilt</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CSLBoundaries.html">CSL</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryCurvature.html">Curvature</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainSmoothing.html">Smoothing</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TwinningBoundaries.html">Twinning</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TriplePoints.html">Triple Points</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryIntersections.html">Intersections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryNormalDistribution.html">Distribution</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Tensors</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="TensorDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorArithmetics.html">Arithmethics</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorVisualisation.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorAverage.html">Averages</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PiezoElectricity.html">Piezo Electricity</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BirefringenceDemo.html">Birefringence</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MagneticAnisotropy.html">Magnetic Anisotropy</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Elasticity</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="IsotropicTheory.html">Isotropic Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AnisotropicTheory.html">Anisotropic Elasticity</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="WaveVelocities.html">Wave Velocities</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CPOSeismicProperties.html">Plot seismic wave velocities and polarization directions for aggregates</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Plasticity</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="SlipSystems.html">Slip Systems</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SchmidtFactor.html">The Schmid Factor</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorModel.html">Taylor Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorHex.html">Texture evolution in rolled magnesium during uniaxial tension</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SachsModel.html">Sachs Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SingleSlipModel.html">Sigle Slip Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SlipTransmission.html">Slip Transmission</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GND.html">Geometrically Necessary Dislocations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VPSCImport.html">Import from VPSC</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TextureEvolution.html">Texture Evolution</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorHex.html">Texture evolution in rolled magnesium during uniaxial tension</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Phase Transitions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="ParentChildVariants.html">Parent Child Variants</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MartensiteVariants.html">Martensite Variants</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TiBetaReconstruction.html">Parent Beta Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MaParentGrainReconstruction.html">Parent Austenite Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TransformationTexture.html">Transformation Texture</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainGraphBasedReconstruction.html">Grain Graph Based Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TriplePointBasedReconstruction.html">Triple Point Based Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="LowLevelParentGrainReconstruction.html">Low Level Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MaParentGrainReconstructionAdvanced.html">Low Level Reconstruction 2</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Spherical Functions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="S2FunConcept.html">Concept</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunPlotting.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunApproximationInterpolation.html">Approximation and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunHarmonicRepresentation.html">Harmonic Representation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunBingham.html">Bingham Distribution</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunRadon.html">Radon Transform</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunVectorField.html">Vector Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunAxisField.html">Axis Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunSym.html">Symmetric Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunMultivariate.html">Multivariate Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2Kernels.html">Spherical Kernel Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SphericalHarmonics.html">Spherical Harmonics</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Orientation Functions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="SO3FunConcept.html">Concept</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPlot.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EulerAngleSections.html">Euler Angle Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SigmaSections.html">Sigma Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunApproximationInterpolation.html">Approximation and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunHarmonicRepresentation.html">Harmonic Representation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RadialODFs.html">Radial Basis Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FibreODFs.html">Fibre Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BinghamODFs.html">Bingham ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunVectorField.html">Vector Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunSymmetricFunctions.html">Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunMultivariate.html">Multivariate Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3Kernels.html">Rotational Kernel Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="WignerFunctions.html">Wigner-D Functions</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Plotting</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="PlotTypes.html">Plot Types</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AxesAlignment.html">Axes Alignment</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CombinedPlots.html">Combined Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Multiplot.html">Multiplot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Annotations.html">Annotations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PlottingExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SphericalProjections.html">Spherical Projections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Legends.html">Legends</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ColorMaps.html">Color Mapping</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ContourPlots.html">Contour Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TransparencyDemo.html">Transparencys</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a class="no_icon" href="#" id="collapseAll">Collapse All</a> | <a class="no_icon" href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            
    <div class="post-header">
        <h1 class="post-title-main">Grain Reconstruction</h1>
    </div>


<div class="post-content">

    

    


    

        <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Grain Reconstruction</title><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.source" content="script_GrainReconstruction.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/Grains/GrainReconstruction.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>By grain reconstruction we mean the subdivision of the specimen, or more precisely the measured surface of the specimen, into regions of similar orientation which we then call grains. Note that there is no canonical definition of what is a grain. The grain reconstruction method that is default in MTEX is based on the definition of high angle grain boundaries which are assumed at the Mittelsenkrechten between neighbouring measurements whenever their misorientation angle exceeds a certain threshold. According to this point of view grains are regions surrounded by grain boundaries.</p><p>In order to illustrate the grain reconstruction process we consider the following sample data set</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">close</span> <span class="nb">all</span><span class="p">;</span> <span class="n">plotx2east</span>

<span class="c1">% import the data</span>
<span class="n">mtexdata</span> <span class="n">forsterite</span>

<span class="c1">% restrict it to a subregion of interest.</span>
<span class="n">ebsd</span> <span class="o">=</span> <span class="n">ebsd</span><span class="p">(</span><span class="nb">inpolygon</span><span class="p">(</span><span class="n">ebsd</span><span class="p">,[</span><span class="mi">5</span> <span class="mi">2</span> <span class="mi">10</span> <span class="mi">5</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">3</span><span class="p">));</span>

<span class="c1">% make a phase plot</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">ebsd</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">ebsd = EBSD
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0   58485 (24%)  notIndexed                                                 
     1  152345 (62%)  Forsterite  LightSkyBlue       mmm                         
     2   26058 (11%)   Enstatite  DarkSeaGreen       mmm                         
     3   9064 (3.7%)    Diopside     Goldenrod     12/m1       X||a*, Y||b*, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um</code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_01.png" alt="" />

</center><h2 id="2">Basic grain reconstruction</h2><p>We see that there are a lot of not indexed measurements. For grain reconstruction, we have  three different choices how to deal with these unindexed regions:</p><div><ol><li>leave them unindexed</li><li>assign them to the surrounding grains</li><li>a mixture of both, e.g., assign small notindexed regions to the surrounding grains but keep large notindexed regions</li></ol></div><p>By default, MTEX uses the first method.</p><p>The second parameter that is involved in grain reconstruction is the threshold misorientation angle indicating a grain boundary. By default, this value is set to 10 degrees.</p><p>All grain reconstruction methods in MTEX are accessible via the command <a href="EBSD.calcGrains.html">calcGrains</a> which takes as input an EBSD data set and returns a list of grain.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">grains</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsd</span><span class="p">,</span><span class="s1">'angle'</span><span class="p">,</span><span class="mi">10</span><span class="o">*</span><span class="nb">degree</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">grains = grain2d
 
 Phase  Grains  Pixels     Mineral  Symmetry  Crystal reference frame
     0    1139    4052  notIndexed                                   
     1     244   14093  Forsterite       mmm                         
     2     177    1397   Enstatite       mmm                         
     3     104     759    Diopside     12/m1       X||a*, Y||b*, Z||c
 
 boundary segments: 10422 (523078 µm)
 inner boundary segments: 0 (0 µm)
 triple points: 905
 
 Properties: meanRotation, GOS</code></pre></figure>
<p>The reconstructed grains are stored in the variable <code class="language-plaintext highlighter-rouge">grains</code>. Note that also the notIndexed measurements are grouped into grains. This allows later to analyze the shape of these unindexed regions.</p><p>To visualize the grains we can plot its boundaries by the command <a href="grainBoundary.plot.html"><code class="language-plaintext highlighter-rouge">plot</code></a>.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% start overide mode</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="c1">% plot the boundary of all grains</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1">% stop overide mode</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_02.png" alt="" />

</center><h2 id="4">Filling notindexed holes</h2><p>It is important to understand that MTEX distinguishes the following two situations</p><div><ol><li>a location is marked as notindexed</li><li>a location does not occur in the data set</li></ol></div><p>A location marked as <b>notindexed</b> is interpreted by MTEX as at this position, there is <b>no crystal</b>, whereas for a location that does not occur in the data set is interpreted by MTEX as: it is not known whether there is a crystal or not. Just to remind you, the later assumption is nothing special as it applies at all locations but the measurement points.</p><p>A location that does not occur in the data is assigned in MTEX to the same grain and phase as the closest measurement point - this may also be a notindexed point. Hence, filling holes in MTEX means to erase them from the list of measurements, i.e., instead of telling MTEX there is no crystal we are telling MTEX: we do not know what there is.</p><p>The extremal case is to say whenever there is a not indexed measurement we actually do not know anything and allow MTEX to freely guess what happens there. This is realized by removing all not indexed measurements or, equivalently, computing the grains only from the indexed measurements</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% compute the grains from the indexed measurements only</span>
<span class="n">grains</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsd</span><span class="p">(</span><span class="s1">'indexed'</span><span class="p">))</span>

<span class="nb">plot</span><span class="p">(</span><span class="n">ebsd</span><span class="p">)</span>

<span class="c1">% start overide mode</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="c1">% plot the boundary of all grains</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1">% mark two grains by location</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="mi">11300</span><span class="p">,</span><span class="mi">6100</span><span class="p">)</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linecolor'</span><span class="p">,</span><span class="s1">'DarkGreen'</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="k">...</span>
  <span class="s1">'DisplayName'</span><span class="p">,</span><span class="s1">'grain A'</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="mi">12000</span><span class="p">,</span><span class="mi">4000</span><span class="p">)</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linecolor'</span><span class="p">,</span><span class="s1">'DarkBlue'</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="k">...</span>
  <span class="s1">'DisplayName'</span><span class="p">,</span><span class="s1">'grain B'</span><span class="p">)</span>

<span class="c1">% stop overide mode</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">grains = grain2d
 
 Phase  Grains  Pixels     Mineral  Symmetry  Crystal reference frame
     1     103   14093  Forsterite       mmm                         
     2      32    1397   Enstatite       mmm                         
     3      71     759    Diopside     12/m1       X||a*, Y||b*, Z||c
 
 boundary segments: 3784 (185218 µm)
 inner boundary segments: 12 (605 µm)
 triple points: 240
 
 Properties: meanRotation, GOS</code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_03.png" alt="" />

</center><p>We observe, especially in the marked grains, how MTEX fills notindexed regions and connects otherwise separate measurements to grains. As all information about not indexed regions were removed the reconstructed grains fill the map completely</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_04.png" alt="" />

</center><p>Inside of grain B, there is a large not indexed region and we might argue that is not very meaningful to assign such a large region to some grain but should have kept it not indexed. In order to decide which not indexed region is large enough to be kept not indexed and which not indexed regions can be filled it is helpful to know that the command calcGrains also separates the not indexed regions into "grains" and we can standard grain functions like area or perimeter to analyze these regions.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="p">[</span><span class="n">grains</span><span class="p">,</span><span class="n">ebsd</span><span class="o">.</span><span class="n">grainId</span><span class="p">,</span><span class="n">ebsd</span><span class="o">.</span><span class="n">mis2mean</span><span class="p">]</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsd</span><span class="p">);</span>
<span class="n">notIndexed</span> <span class="o">=</span> <span class="n">grains</span><span class="p">(</span><span class="s1">'notIndexed'</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">notIndexed = grain2d
 
 Phase  Grains  Pixels     Mineral  Symmetry  Crystal reference frame
     0    1139    4052  notIndexed                                   
 
 boundary segments: 8694 (436378 µm)
 inner boundary segments: 0 (0 µm)
 triple points: 868
 
 Properties: meanRotation, GOS</code></pre></figure>
<p>We see that we have 1139 not indexed regions. A good measure for compact regions vs. cluttered regions is the quotient between the area and the boundary length. Lets, therefore, plot the "not indexed grains" colorized by this quotient</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% plot the not indexed regions colorcoded according the the quotient between</span>
<span class="c1">% number of measurements and number of boundary segments</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">notIndexed</span><span class="p">,</span><span class="nb">log</span><span class="p">(</span><span class="n">notIndexed</span><span class="o">.</span><span class="n">grainSize</span> <span class="o">.</span><span class="p">/</span> <span class="n">notIndexed</span><span class="o">.</span><span class="n">boundarySize</span><span class="p">))</span>
<span class="n">mtexColorbar</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_05.png" alt="" />

</center><p>Regions with a high quotient are blocks which can be hardly correctly assigned to a grain. Hence, we should keep these regions as not indexed and only remove the not indexed information from locations with a low quotient.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% the "not indexed grains" we want to remove</span>
<span class="n">toRemove</span> <span class="o">=</span> <span class="n">notIndexed</span><span class="p">(</span><span class="n">notIndexed</span><span class="o">.</span><span class="n">grainSize</span> <span class="o">.</span><span class="p">/</span> <span class="n">notIndexed</span><span class="o">.</span><span class="n">boundarySize</span><span class="o">&lt;</span><span class="mf">0.8</span><span class="p">);</span>

<span class="c1">% now we remove the corresponding EBSD measurements</span>
<span class="n">ebsd</span><span class="p">(</span><span class="n">toRemove</span><span class="p">)</span> <span class="o">=</span> <span class="p">[];</span>

<span class="c1">% and perform grain reconstruction with the reduces EBSD data set</span>
<span class="p">[</span><span class="n">grains</span><span class="p">,</span><span class="n">ebsd</span><span class="o">.</span><span class="n">grainId</span><span class="p">,</span><span class="n">ebsd</span><span class="o">.</span><span class="n">mis2mean</span><span class="p">]</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsd</span><span class="p">);</span>

<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">,</span><span class="s1">'lineWidth'</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_06.png" alt="" />

</center><p>We see that that all the narrow not indexed regions have been assigned to the surounding grains while the large regions have been left unindexed. Finally, the image with the raw EBSD data and on top the grain boundaries.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% plot the raw data</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">ebsd</span><span class="p">)</span>

<span class="c1">% start overide mode</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="c1">% plot the boundary of all grains</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1">% mark two grains by location</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="mi">11300</span><span class="p">,</span><span class="mi">6100</span><span class="p">)</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linecolor'</span><span class="p">,</span><span class="s1">'DarkGreen'</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="k">...</span>
  <span class="s1">'DisplayName'</span><span class="p">,</span><span class="s1">'grain A'</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="mi">12000</span><span class="p">,</span><span class="mi">4000</span><span class="p">)</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linecolor'</span><span class="p">,</span><span class="s1">'DarkBlue'</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="k">...</span>
  <span class="s1">'DisplayName'</span><span class="p">,</span><span class="s1">'grain B'</span><span class="p">)</span>

<span class="c1">% stop overide mode</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_07.png" alt="" />

</center><h2 id="11">Non convex data sets</h2><p>By default MTEX uses the convex hull when computing the outer boundary for an EBSD data set. This leads to poor results in the case of non convex EBSD data sets.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% cut of a non convex region from our previous data set</span>
<span class="nb">poly</span> <span class="o">=</span> <span class="mf">1.0e+04</span> <span class="o">*</span><span class="p">[</span><span class="k">...</span>
  <span class="mf">0.6853</span>    <span class="mf">0.2848</span>
  <span class="mf">0.7102</span>    <span class="mf">0.6245</span>
  <span class="mf">0.8847</span>    <span class="mf">0.3908</span>
  <span class="mf">1.1963</span>    <span class="mf">0.6650</span>
  <span class="mf">1.1371</span>    <span class="mf">0.2880</span>
  <span class="mf">0.6853</span>    <span class="mf">0.2833</span>
  <span class="mf">0.6853</span>    <span class="mf">0.2848</span><span class="p">];</span>

<span class="n">ebsdP</span> <span class="o">=</span> <span class="n">ebsd</span><span class="p">(</span><span class="n">ebsd</span><span class="o">.</span><span class="nb">inpolygon</span><span class="p">(</span><span class="nb">poly</span><span class="p">));</span>

<span class="nb">plot</span><span class="p">(</span><span class="n">ebsdP</span><span class="p">,</span><span class="s1">'micronBar'</span><span class="p">,</span><span class="s1">'off'</span><span class="p">)</span>
<span class="nb">legend</span> <span class="n">off</span>

<span class="c1">% compute the grains</span>
<span class="n">grains</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsdP</span><span class="p">(</span><span class="s1">'indexed'</span><span class="p">));</span>

<span class="c1">% plot the grain boundary</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_08.png" alt="" />

</center><p>We see that the grains badly fill up the entire convex hull of the data points. This can be avoided by specifying the option <code class="language-plaintext highlighter-rouge">tight</code> for the determination of the outer boundary.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">ebsdP</span><span class="p">,</span><span class="s1">'micronBar'</span><span class="p">,</span><span class="s1">'off'</span><span class="p">)</span>
<span class="nb">legend</span> <span class="n">off</span>

<span class="c1">% compute the grains</span>
<span class="n">grains</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsdP</span><span class="p">(</span><span class="s1">'indexed'</span><span class="p">),</span><span class="s1">'boundary'</span><span class="p">,</span><span class="s1">'tight'</span><span class="p">);</span>

<span class="c1">% plot the grain boundary</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="o">.</span><span class="nb">boundary</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/GrainReconstruction_09.png" alt="" />

</center></div></body></html>

    <div class="tags">
        
    </div>

    


</div>

<footer>
    <div class="row">
        <div class="col-lg-12 footer">
            <p>
                <img src="images/icons/MTEX_100x67px.png" alt="MTEX logo">
            </p>
        </div>
    </div>
</footer>

        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-83346204-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
