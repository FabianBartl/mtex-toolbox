---
title: Shape Parameters - Basic Properties
last_updated: 31-May-2020
sidebar: documentation_sidebar
permalink: ShapeParameters.html
folder: documentation
toc: false
---
    <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Shape Parameters - Basic Properties</title><meta name="generator" content="MATLAB 9.8"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-05-31"><meta name="DC.source" content="script_ShapeParameters.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/Grains/ShapeParameters.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>In this section we discuss basic geometric properties of grains. Due to the huge amount of shape parameters we split them into different categories: basic properties (this page), <a href="EllipseBasedProperties.html">properties based on fitted ellipses</a>, <a href="HullBasedParameters.html">convex hull bases properties</a>, <a href="ProjectionBasesParameters.html">projection bases properties</a>. The table below summarizes the shape parameters discussed on this page.</p><p>
   <table class="usertable">
      <tr>
         <td>
               <p>
                  <tt>grains.grainSize</tt>
               </p>
         </td>
         <td>
               <p>number of measurements per grain</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.area.html">
                     <tt>grains.area</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>grain area in square <tt>grains.scanUnit</tt>
               </p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.diameter.html">
                     <tt>grains.diameter</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>diameter in <tt>grains.scanUnit</tt>
               </p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.perimeter.html">
                     <tt>grains.perimeter</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>perimeter in <tt>grains.scanUnit</tt>
               </p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.boundarySize.html">
                     <tt>grains.boundarySize</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>number of boundary segments</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.centroid.html">
                     <tt>grains.centroid</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>x,y coordinates of the barycenter of the grain</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.hasHole.html">
                     <tt>grains.hasHole</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>check for inclusions</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="grain2d.neighbors.html">
                     <tt>grains.neighbors</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>number and ids of neighboring grains</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <a href="triplePointList.triplePointList.html">
                     <tt>grains.triplePoints</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>list of  triple points</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <tt>grains.x</tt>
               </p>
         </td>
         <td>
               <p>x coordinates of the vertices</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <tt>grains.y</tt>
               </p>
         </td>
         <td>
               <p>y coordinates of the vertices</p>
         </td>
      </tr>
   </table>
</p><p>We start our discussion by reconstructing the grain structure from a sample EBSD data set.</p>
{% highlight matlab %}
% load sample EBSD data set
mtexdata forsterite

% restrict it to a subregion of interest.
ebsd = ebsd(inpolygon(ebsd,[5 2 10 5]*10^3));

% remove all not indexed pixels
ebsd = ebsd('indexed');

% reconstruct grains
[grains, ebsd.grainId] = calcGrains(ebsd,'angle',5*degree);

% smooth them
grains = smooth(grains,5);

% plot the orientation data of the Forsterite phase
plot(ebsd('fo'),ebsd('fo').orientations)

% plot the grain boundary on top of it
hold on
plot(grains.boundary,'lineWidth',2)
hold off
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSD  
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0   58485 (24%)  notIndexed                                                 
     1  152345 (62%)  Forsterite  LightSkyBlue       mmm                         
     2   26058 (11%)   Enstatite  DarkSeaGreen       mmm                         
     3   9064 (3.7%)    Diopside     Goldenrod     12/m1        X||a*, Y||b, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
{% endhighlight %}
<center>
{% include inline_image.html file="ShapeParameters_01.png" %}
</center><h2 id="3">Grain size vs. grain area</h2><p>The most basic properties are grainSize and grain area. Those can be computed by</p>
{% highlight matlab %}
grains(9).grainSize
grains(9).area
{% endhighlight %}

{% highlight plaintext %}
ans =
     1
ans =
  170.6081
{% endhighlight %}
<p>Hereby <code class="language-plaintext highlighter-rouge">grainSize</code> referes to the number of pixels that belong to a certain grain while <code class="language-plaintext highlighter-rouge">area</code> represents the actual area measured in <code class="language-plaintext highlighter-rouge">(&micro;m)^2</code>. Simarly the one-dimensional meassures <code class="language-plaintext highlighter-rouge">boundarySize</code> and <code class="language-plaintext highlighter-rouge">perimeter</code> give the length of the grain boundary in number of segments and in in <code class="language-plaintext highlighter-rouge">&micro;m</code>, respectively.</p>
{% highlight matlab %}
grains(9).boundarySize
grains(9).perimeter
{% endhighlight %}

{% highlight plaintext %}
ans =
     4
ans =
   83.9653
{% endhighlight %}
<p>Another, one dimensional measure is the <code class="language-plaintext highlighter-rouge">diameter</code> which refers to the longest distance between any two boundary points and is given im <code class="language-plaintext highlighter-rouge">&micro;m</code> as well</p>
{% highlight matlab %}
grains(9).diameter
{% endhighlight %}

{% highlight plaintext %}
ans =
   40.5107
{% endhighlight %}
<p>The diameter is a special case of the caliper or Feret diameter of a grain. By definition the caliper is the length of a grain when projected onto a line. Hence, the length of the longest projection is coincides with the diameter, while the quotient between longest and shortest projection gives an indication about the shape of the grain.</p>
{% highlight matlab %}
grains(9).calliper('longest')
grains(9).calliper('shortest')
{% endhighlight %}

{% highlight plaintext %}
ans =
   40.5107
ans =
    6.3359
{% endhighlight %}
<p>Another way to investigate the perimeter is using the grain boundary. The first command returns simply the number of boundary segments while the second one gives the total length of the boundary by summing up the length of each individual boundary segment</p>
{% highlight matlab %}
length(grains(9).boundary)
sum(grains(9).boundary.segLength)
{% endhighlight %}

{% highlight plaintext %}
ans =
     4
ans =
   83.9653
{% endhighlight %}
<h2 id="8">Histograms</h2>
{% highlight matlab %}
close all
histogram(grains.area)
xlabel('grain area')
ylabel('number of grains')
{% endhighlight %}
<center>
{% include inline_image.html file="ShapeParameters_02.png" %}
</center><p>Note the large amount of very small grains. A more realistic histogram we obtain if we do not plot the number of grains at the y-axis but its total area. This can be achieved with the command <a href="grain2d.hist.html">hist</a></p>
{% highlight matlab %}
hist(grains,grains.area)
xlabel('grain area')
{% endhighlight %}
<center>
{% include inline_image.html file="ShapeParameters_03.png" %}
</center><h2 id="10">Scatter plot</h2><p>Scatter plots provide an efficient way to check whether two or more properties are correlated. As an example lets look at the paris and the shape factor</p>
{% highlight matlab %}
close all
scatter(grains.paris,grains.shapeFactor)
xlabel('paris')
ylabel('shape factor')
{% endhighlight %}
<center>
{% include inline_image.html file="ShapeParameters_04.png" %}
</center><p>Obviously, there is a strong correlation between those two quantities.</p></div></body></html>