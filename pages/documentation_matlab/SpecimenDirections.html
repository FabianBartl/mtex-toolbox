---
title: Specimen Directions
last_updated: 04-Oct-2019
sidebar: documentation_sidebar
permalink: SpecimenDirections.html
folder: documentation
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Specimen Directions</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-10-04"><meta name="DC.source" content="script_SpecimenDirections.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit SpecimenDirections into the Matlab commandline">edit page</a></font><div><!--introduction--><p>How to represent directions with respect to the sample or specimen reference system.</p><!--/introduction--><h2 id="2">Contents</h2><p>Specimen directions are three dimensional vectors in the Euclidean space represented by coordinates with respect to an external specimen coordinate system X, Y, Z. In MTEX, specimen directions are represented by variables of the class <a href="vector3d_index.html"><b>vector3d</b></a>.</p><h2 id="4">Cartesian Coordinates</h2><p>The standard way to define specimen directions is by its coordinates.</p><pre class="codeinput">v = vector3d(1,2,3)
</pre><pre class="codeoutput"> 
v = vector3d  
 size: 1 x 1
  x y z
  1 2 3
</pre><p>This gives a single vector with coordinates (1,1,0) with respect to the X, Y, Z coordinate system. Lets visualize this vector</p><pre class="codeinput">plot(v)
annotate([vector3d.X,vector3d.Y,vector3d.Z],<span class="string">'label'</span>,{<span class="string">'X'</span>,<span class="string">'Y'</span>,<span class="string">'Z'</span>},<span class="string">'backgroundcolor'</span>,<span class="string">'w'</span>)
</pre>
  {% include inline_image.html file="SpecimenDirections_01.png" %}
<p>Note that the alignment of the X, Y, Z axes is only a plotting convention, which can be easily changed without changing the coordinates, e.g., by setting</p><pre class="codeinput">plotx2north
plot(v,<span class="string">'grid'</span>)
annotate([vector3d.X,vector3d.Y,vector3d.Z],<span class="string">'label'</span>,{<span class="string">'X'</span>,<span class="string">'Y'</span>,<span class="string">'Z'</span>},<span class="string">'backgroundcolor'</span>,<span class="string">'w'</span>)
</pre>
  {% include inline_image.html file="SpecimenDirections_02.png" %}
<p>One can easily access the coordinates of any vector by</p><pre class="codeinput">v.x
</pre><pre class="codeoutput">ans =
     1
</pre><p>or change it by</p><pre class="codeinput">v.x = 0
</pre><pre class="codeoutput"> 
v = vector3d  
 size: 1 x 1
  x y z
  0 2 3
</pre><h2 id="9">Polar Coordinates</h2><p>A second way to define specimen directions is by polar coordinates, i.e. by its polar angle and its azimuth angle. This is done by the option <b>polar</b>.</p><pre class="codeinput">polar_angle = 60*degree;
azimuth_angle = 45*degree;
v = vector3d.byPolar(polar_angle,azimuth_angle)

plotx2east
plot(v,<span class="string">'grid'</span>)
annotate([vector3d.X,vector3d.Y,vector3d.Z],<span class="string">'label'</span>,{<span class="string">'X'</span>,<span class="string">'Y'</span>,<span class="string">'Z'</span>},<span class="string">'backgroundcolor'</span>,<span class="string">'w'</span>)
</pre><pre class="codeoutput"> 
v = vector3d  
 size: 1 x 1
         x        y        z
  0.612372 0.612372      0.5
</pre>
  {% include inline_image.html file="SpecimenDirections_03.png" %}
<p>Analogously as for the Cartesian coordinates we can access and change polar coordinates directly by</p><pre class="codeinput">v.rho ./ degree   <span class="comment">% the azimuth angle in degree</span>
v.theta ./ degree <span class="comment">% the polar angle in degree</span>
</pre><pre class="codeoutput">ans =
   45.0000
ans =
   60.0000
</pre><h2 id="11">Calculating with Specimen Directions</h2><p>In MTEX, one can calculate with specimen directions as with ordinary numbers, i.e. we can use the predefined vectors  <a href="xvector.html">xvector</a>, <a href="yvector.html">yvector</a>, and <a href="zvector.html">zvector</a> and set</p><pre class="codeinput">v = xvector + 2*yvector
</pre><pre class="codeoutput"> 
v = vector3d  
 size: 1 x 1
  x y z
  1 2 0
</pre><p>Moreover, all basic vector operations as <a href="vector3d.plus.html">"+"</a>, <a href="vector3d.minus.html">"-"</a>, <a href="vector3d.times.html">"*"</a>, <a href="vector3d.dot.html">inner product</a>, <a href="vector3d.cross.html,cross">product</a> are implemented in MTEX.</p><pre class="codeinput">u = dot(v,xvector) * yvector + 2 * cross(v,zvector)
</pre><pre class="codeoutput"> 
u = vector3d  
 size: 1 x 1
  x  y  z
  4 -1  0
</pre><p>Beside the standard linear algebra operations there are also the following functions available in MTEX.</p><pre>[[vector3d.angle.html,angle(v1,v2)]] % angle between two specimen  directions
[[vector3d.dot.html,dot(v1,v2)]]   % inner product
[[vector3d.cross.html,cross(v1,v2)]] % cross product
[[vector3d.norm.html,norm(v)]]      % length of the specimen directions
[[vector3d.sum.html,sum(v)]]       % sum over all specimen directions in v
[[vector3d.mean.html,mean(v)]]      % mean over all specimen directions in v
[[vector3d.polar.html,polar(v)]]     % conversion to spherical coordinates</pre><p>A simple example to apply the norm function is to normalize specimen directions</p><pre class="codeinput">v ./ norm(v)
</pre><pre class="codeoutput"> 
ans = vector3d  
 size: 1 x 1
         x        y        z
  0.447214 0.894427        0
</pre><h2 id="14">Lists of vectors</h2><p>As any other MTEX variable you can combine several vectors to a list of vectors and all bevor mentioned operators operations will work elementwise on a list of vectors. See &lt; WorkinWithLists.html Working with lists&gt; on how to manipulate lists in Matlab.</p><p>Large lists of vectors can be imported from a text file by the command</p><pre class="codeinput">fname = fullfile(mtexDataPath,<span class="string">'vector3d'</span>,<span class="string">'vectors.txt'</span>);
v = vector3d.load(fname,<span class="string">'ColumnNames'</span>,{<span class="string">'polar angle'</span>,<span class="string">'azimuth angle'</span>})
</pre><pre class="codeoutput"> 
v = vector3d  
 size: 1000 x 1
</pre><p>and exported by the command</p><pre class="codeinput">export(v,fname,<span class="string">'polar'</span>)
</pre><p>In order to visualize large lists of specimen directions scatter plots</p><pre class="codeinput">scatter(v,<span class="string">'upper'</span>)
</pre>
  {% include inline_image.html file="SpecimenDirections_04.png" %}
<p>or contour plots may be helpful</p><pre class="codeinput">contourf(v,<span class="string">'upper'</span>)
</pre>
  {% include inline_image.html file="SpecimenDirections_05.png" %}
<h2 id="19">Indexing lists of vectors</h2><p>A list of vectors can be indexed directly by specifying the ids of the vectors one is interested in, e.g.</p><pre class="codeinput">v([1:5])
</pre><pre class="codeoutput"> 
ans = vector3d  
 size: 5 x 1
           x          y          z
    0.174067   0.983688  0.0453682
  0.00905843   0.821965   0.569466
    0.430105   0.900869  0.0586948
   -0.447234  0.0186977   0.894221
   -0.139746   0.555614   0.819612
</pre><p>gives the first 5 vectors from the list, or by logical indexing. The following command plots all vectors with an polar angle smaller then 60 degree</p><pre class="codeinput">scatter(v(v.theta&lt;60*degree),<span class="string">'grid'</span>,<span class="string">'on'</span>)
</pre>
  {% include inline_image.html file="SpecimenDirections_06.png" %}
</div></body></html>