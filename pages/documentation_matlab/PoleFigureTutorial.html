---
title: Pole Figure Tutorial
last_updated: 11-Oct-2019
sidebar: documentation_sidebar
permalink: PoleFigureTutorial.html
folder: documentation
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Pole Figure Tutorial</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-10-11"><meta name="DC.source" content="script_PoleFigureTutorial.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit PoleFigureTutorial into the Matlab commandline">edit page</a></font><div><!--introduction--><!--/introduction--><p>This tutorial explains the basic concepts on ananyzing x-ray, synchrotron and neutron diffraction data.</p><h2 id="2">Import diffraction data</h2><p>Click on <a href="matlab:import_wizard('PoleFigure')">Import pole figure data</a> to start the import wizard which is a GUI leading you through the import of pole figure data. After finishing the wizard you will end with a script similar to the following one.</p>
{% highlight matlab %}
% This script was automatically created by the import wizard. You should
% run the whole script or parts of it in order to import your data. There
% is no problem in making any changes to this script.
%
% *Specify Crystal and Specimen Symmetries*

% crystal symmetry
CS = crystalSymmetry('6/mmm', [2.633 2.633 4.8], 'X||a*', 'Y||b', 'Z||c');

% specimen symmetry
SS = specimenSymmetry('1');

% plotting convention
setMTEXpref('xAxisDirection','north');
setMTEXpref('zAxisDirection','outOfPlane');
{% endhighlight %}
<p><b>Specify File Names</b></p>
{% highlight matlab %}
% path to files
pname = [mtexDataPath filesep 'PoleFigure' filesep 'ZnCuTi' filesep];

% which files to be imported
fname = {...
  [pname 'ZnCuTi_Wal_50_5x5_PF_002_R.UXD'],...
  [pname 'ZnCuTi_Wal_50_5x5_PF_100_R.UXD'],...
  [pname 'ZnCuTi_Wal_50_5x5_PF_101_R.UXD'],...
  [pname 'ZnCuTi_Wal_50_5x5_PF_102_R.UXD'],...
  };

% defocusing
fname_def = {...
  [pname 'ZnCuTi_defocusing_PF_002_R.UXD'],...
  [pname 'ZnCuTi_defocusing_PF_100_R.UXD'],...
  [pname 'ZnCuTi_defocusing_PF_101_R.UXD'],...
  [pname 'ZnCuTi_defocusing_PF_102_R.UXD'],...
  };
{% endhighlight %}
<p><b>Specify Miller Indices</b></p>
{% highlight matlab %}
h = { ...
  Miller(0,0,2,CS),...
  Miller(1,0,0,CS),...
  Miller(1,0,1,CS),...
  Miller(1,0,2,CS),...
  };
{% endhighlight %}
<p><b>Import the Data</b></p>
{% highlight matlab %}
% create a Pole Figure variable containing the data
pf = PoleFigure.load(fname,h,CS,SS,'interface','uxd');

% defocusing
pf_def = PoleFigure.load(fname_def,h,CS,SS,'interface','uxd');

% correct data
pf = correct(pf,'def',pf_def);
{% endhighlight %}
<h2 id="6">Plot Raw Data</h2><p>You should run the script section wise to see how MTEX imports the pole figure data. Next, you can plot your data</p>
{% highlight matlab %}
plot(pf)
{% endhighlight %}

  {% include inline_image.html file="PoleFigureTutorial_01.png" %}
<p>Make sure that the Miller indices are correctly assigned to the pole figures and that the alignment of the specimen coordinate system, i.e., X, Y, Z is correct. In case of outliers or misaligned data, you may want to correct your raw data. See <a href="PoleFigureCorrection.html">how to modify pole figure data</a> for further information.</p><h2 id="8">ODF Estimation</h2><p>Once your data are in a good shape, i.e. defocusing correction has been done and only few outliers are left you can stop to reconstruct an ODF out of these data. This is done by the command <a href="PoleFigure_calcODF.html">calcODF</a>.</p>
{% highlight matlab %}
odf = calcODF(pf,'silent')
{% endhighlight %}

{% highlight plaintext %}
 
odf = ODF  
  crystal symmetry : 6/mmm, X||a*, Y||b, Z||c*
  specimen symmetry: 1
 
  Uniform portion:
    weight: 0.53416
 
  Radially symmetric portion:
    kernel: de la Vallee Poussin, halfwidth 10&deg;
    center: 9922 orientations, resolution: 5&deg;
    weight: 0.46584
 

{% endhighlight %}
<p>Note that reconstructing an ODF from pole figure data is a severely ill- posed problem, i.e., it does <b>not</b> provide a unique solution. A more throughout the discussion on the ambiguity of ODF reconstruction from pole figure data can be found <a href="PoleFigure2ODFAmbiguity.html">here</a>. As a rule of thumb: as more pole figures you have and as more consistent you pole figure data are as better you reconstructed ODF will be.</p><p>To check how well your reconstructed ODF fits the measured pole figure data do</p>
{% highlight matlab %}
plotPDF(odf,pf.h)
{% endhighlight %}

  {% include inline_image.html file="PoleFigureTutorial_02.png" %}
<p>Compare the recalculated pole figures with the measured data. A quantitative measure for the fitting are the so called RP values. They can be computed by</p>
{% highlight matlab %}
calcError(odf,pf)
{% endhighlight %}

{% highlight plaintext %}
progress: 100%
ans =
    0.0556    0.0450    0.0609    0.0444

{% endhighlight %}
<p>In the case of a bad fitting, you may want to tweak the reconstruction algorithm. See <a href="PoleFigure2ODF.html">here</a> for more information.</p><h2 id="12">Quantify the Reconstruction Error</h2><h2 id="13">Visualize the ODF</h2>
{% highlight matlab %}
plot(odf)
mtexColorMap LaboTeX
{% endhighlight %}

{% highlight plaintext %}
progress: 100%

{% endhighlight %}

  {% include inline_image.html file="PoleFigureTutorial_03.png" %}
<p>restore old setting</p>
{% highlight matlab %}
setMTEXpref('xAxisDirection','east');
{% endhighlight %}
</div></body></html>