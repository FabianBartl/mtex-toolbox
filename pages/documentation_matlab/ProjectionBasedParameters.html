---
title: Projection Based Shape Parameters
last_updated: 03-Oct-2020
sidebar: documentation_sidebar
permalink: ProjectionBasedParameters.html
folder: documentation
toc: false
---
    <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Projection Based Shape Parameters</title><meta name="generator" content="MATLAB 9.9"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-10-03"><meta name="DC.source" content="script_ProjectionBasedParameters.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/Grains/ProjectionBasedParameters.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>In this section we discuss shape parameters grains that depend on one dimensional projections, i.e.,</p><p>
   <table class="usertable">
      <tr>
         <td>
               <p>
                  <a href="grain2d.caliper.html">
                     <tt>caliper</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>caliper or Feret diameter in \(\mu m\)</p>
         </td>
         <td>
               <p>
                  <a href="grain2d.diameter.html">
                     <tt>diameter</tt>
                  </a>
               </p>
         </td>
         <td>
               <p>diameter in \(\mu m\)</p>
         </td>
      </tr>
   </table>
</p><p>In order to demonstrate these parameters we first import a small sample data set.</p>
{% highlight matlab %}
% load sample EBSD data set
mtexdata forsterite silent

% reconstruct grains and smooth them
[grains, ebsd.grainId] = calcGrains(ebsd('indexed'),'angle',5*degree);
ebsd(grains(grains.grainSize<5)) = [];
[grains, ebsd.grainId] = calcGrains(ebsd('indexed'),'angle',5*degree);
grains = smooth(grains,5);

% plot all grains and highlight a specific one
plot(grains)

id = 734;
hold on
plot(grains(id).boundary,'lineWidth',5,'linecolor','blue')
hold off
{% endhighlight %}
<center>
{% include inline_image.html file="ProjectionBasedParameters_01.png" %}
</center><p>The most well known projection based paramter is the <a href="grain2d.diamter.html"><code class="language-plaintext highlighter-rouge">diameter</code></a> which refers to the longest distance between any two boundary points and is given in \(\mu m\).</p>
{% highlight matlab %}
grains(id).diameter
{% endhighlight %}

{% highlight plaintext %}
ans =
   6.9584e+03
{% endhighlight %}
<p>The diameter is a special case of the <a href="grain2d.caliper.html"><code class="language-plaintext highlighter-rouge">caliper</code></a> or Feret diameter of a grain. By definition the caliper is the length of a grain when projected onto a line. Hence, the length of the longest projection is coincides with the diameter, while the quotient between longest and shortest projection gives an indication about the shape of the grain</p>
{% highlight matlab %}
grains(id).caliper('longest')
grains(id).caliper('shortest')
{% endhighlight %}

{% highlight plaintext %}
ans =
   6.9584e+03
ans =
   1.6078e+03
{% endhighlight %}
<p>We may trace the caliper with respect to projection direction</p>
{% highlight matlab %}
close all
omega = linspace(0,180);
plot(omega,grains(id+(-1:2)).caliper(omega*degree),'LineWidth',2)
xlim([0,180])
{% endhighlight %}
<center>
{% include inline_image.html file="ProjectionBasedParameters_02.png" %}
</center><p>The difference between the longest and the shortest caliper can also be taken as a measure how round a grain is. The function <a href="grain2d.caliper.html"><code class="language-plaintext highlighter-rouge">caliper</code></a> provides as second output argument also the angle <code class="language-plaintext highlighter-rouge">omega</code> of the longest distance between any vertices of the grain. This direction is comparable to the <a href="grain2d.longAxis.html"><code class="language-plaintext highlighter-rouge">grains.longAxis</code></a> computed from an ellipse fitted to the grain.</p>
{% highlight matlab %}
cMin = grains.caliper('shortest');
[cMax, omega] = grains.caliper('longest');

longAxis = vector3d.byPolar(pi/2,omega,'antipodal');

plot(grains,(cMax - cMin)./cMax,'micronbar','off')
mtexColorbar('title','TODO')

% and on top the long axes
hold on
quiver(grains,grains.longAxis,'Color','white')
quiver(grains,longAxis,'Color','red')
hold off
{% endhighlight %}
<center>
{% include inline_image.html file="ProjectionBasedParameters_03.png" %}
</center><p>TODO: some more to explain <a href="grain2d.paror.html"><code class="language-plaintext highlighter-rouge">grains.paror</code></a>   cummulative particle projection function</p>
{% highlight matlab %}
mtexdata forsterite
[grains,ebsd.grainId] = ebsd.calcGrains;
ebsd(grains(grains.grainSize<50))=[];
[grains,ebsd.grainId] =ebsd.calcGrains;
outerBoundary_id = any(grains.boundary.grainId==0,2);
grain_id = grains.boundary(outerBoundary_id).grainId;
 grain_id(grain_id==0) = [];
 grains(grain_id) = [];
 grains=grains('indexed');

 cumpl = paror(grains);
 plot(grains)
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSD  
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0   58485 (24%)  notIndexed                                                 
     1  152345 (62%)  Forsterite  LightSkyBlue       mmm                         
     2   26058 (11%)   Enstatite  DarkSeaGreen       mmm                         
     3   9064 (3.7%)    Diopside     Goldenrod     12/m1        X||a*, Y||b, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
{% endhighlight %}
<center>
{% include inline_image.html file="ProjectionBasedParameters_04.png" %}
</center>
{% highlight matlab %}
 figure
 plot(0:180,cumpl);
{% endhighlight %}
<center>
{% include inline_image.html file="ProjectionBasedParameters_05.png" %}
</center></div></body></html>