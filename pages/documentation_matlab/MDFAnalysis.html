---
title: Misorientation Distribution Function
last_updated: 08-Oct-2019
sidebar: documentation_sidebar
permalink: MDFAnalysis.html
folder: documentation
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Misorientation Distribution Function</title><meta name="generator" content="MATLAB 9.7"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-10-08"><meta name="DC.source" content="script_MDFAnalysis.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit MDFAnalysis into the Matlab commandline">edit page</a></font><div><!--introduction--><p>Explains how to compute and analyze misorientation distribution functions.</p><!--/introduction--><h2 id="2">Contents</h2><h2 id="3">Computing a misorientation distribution function from EBSD data</h2><p>Lets import some EBSD data and reconstruct the grains.</p>
  {% highlight matlab %}
  mtexdata <span class="string">forsterite</span>
grains = calcGrains(ebsd)
  {% endhighlight %}

        {% highlight matlab %}
         
ebsd = EBSD  
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0   58485 (24%)  notIndexed                                                 
     1  152345 (62%)  Forsterite  LightSkyBlue       mmm                         
     2   26058 (11%)   Enstatite  DarkSeaGreen       mmm                         
     3   9064 (3.7%)    Diopside     Goldenrod     12/m1       X||a*, Y||b*, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 
 
grains = grain2d  
 
 Phase  Grains  Pixels     Mineral  Symmetry  Crystal reference frame
     0   16334   58485  notIndexed                                   
     1    4092  152345  Forsterite       mmm                         
     2    1864   26058   Enstatite       mmm                         
     3    1991    9064    Diopside     12/m1       X||a*, Y||b*, Z||c
 
 boundary segments: 147957
 triple points: 11456
 
 Properties: GOS, meanRotation
 

        {% endhighlight %}
    <h2 id="4">SUB: The boundary misorientation distribution function</h2><p>The boundary misorientation distribution function for the phase transition from Forsterite to Enstatite can be computed by</p>
  {% highlight matlab %}
  mdf_boundary = calcODF(grains.boundary(<span class="string">'Fo'</span>,<span class="string">'En'</span>).misorientation,<span class="string">'halfwidth'</span>,10*degree)
  {% endhighlight %}

        {% highlight matlab %}
         
mdf_boundary = MDF  
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Harmonic portion:
    degree: 25
    weight: 1
 

        {% endhighlight %}
    <p>The misorientation distribution function can be processed as any other ODF. E.g. we can compute the prefered misorientation via</p>
  {% highlight matlab %}
  [v,mori] = max(mdf_boundary)
  {% endhighlight %}

        {% highlight matlab %}
        v =
   38.8766
 
mori = misorientation  
  size: 1 x 1
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  82.4065 1.06577 187.671       0
 

        {% endhighlight %}
    <p>or plot the pole figure corresponding to the crystal axis (1,0,0)</p>
  {% highlight matlab %}
  plotPDF(mdf_boundary,Miller(1,0,0,ebsd(<span class="string">'Fo'</span>).CS))
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_01.png" %}
<h2 id="7">SUB: The uncorrelated misorientation distribution function</h2><p>Alternatively the uncorrelated misorientation distribution function can be computed by providing the option <b>uncorrelated</b></p>
  {% highlight matlab %}
  mori = calcMisorientation(ebsd(<span class="string">'En'</span>),ebsd(<span class="string">'Fo'</span>))
mdf_uncor = calcODF(mori)
  {% endhighlight %}

        {% highlight matlab %}
         
mori = misorientation  
  size: 98512 x 1
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
 
mdf_uncor = MDF  
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Harmonic portion:
    degree: 25
    weight: 1
 

        {% endhighlight %}
    <p>Obviously it is different from the boundary misorientation distribution function.</p>
  {% highlight matlab %}
  plotPDF(mdf_uncor,Miller(1,0,0,ebsd(<span class="string">'Fo'</span>).CS))
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_02.png" %}
<h2 id="9">Computing the uncorrelated misorientation function from two ODFs</h2><p>Let given two odfs</p>
  {% highlight matlab %}
  odf_fo = calcODF(ebsd(<span class="string">'fo'</span>).orientations,<span class="string">'halfwidth'</span>,10*degree)
odf_en = calcODF(ebsd(<span class="string">'en'</span>).orientations,<span class="string">'halfwidth'</span>,10*degree)
  {% endhighlight %}

        {% highlight matlab %}
         
odf_fo = ODF  
  crystal symmetry : Forsterite (mmm)
  specimen symmetry: 1
 
  Harmonic portion:
    degree: 25
    weight: 1
 
 
odf_en = ODF  
  crystal symmetry : Enstatite (mmm)
  specimen symmetry: 1
 
  Harmonic portion:
    degree: 25
    weight: 1
 

        {% endhighlight %}
    <p>Then the uncorrelated misorientation function between these two ODFs can be computed by</p>
  {% highlight matlab %}
  mdf = calcMDF(odf_en,odf_fo)
  {% endhighlight %}

        {% highlight matlab %}
         
mdf = MDF  
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Harmonic portion:
    degree: 19
    weight: 1
 

        {% endhighlight %}
    <p>This misorientation distribution function should be similar to the uncorrelated misorientation function computed directly from the ebsd data</p>
  {% highlight matlab %}
  plotPDF(mdf,Miller(1,0,0,ebsd(<span class="string">'Fo'</span>).CS))
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_03.png" %}
<h2 id="12">Analyzing misorientation functions</h2><h2 id="13">SUB: Angle distribution</h2><p>Let us first compare the actual angle distribution of the boundary misorientations with the theoretical angle distribution of the uncorrelated MDF.</p>
  {% highlight matlab %}
  close <span class="string">all</span>
plotAngleDistribution(grains.boundary(<span class="string">'fo'</span>,<span class="string">'en'</span>).misorientation)

hold <span class="string">on</span>

plotAngleDistribution(mdf)

hold <span class="string">off</span>
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_04.png" %}
<p>For computing the exact values see the commands <a href="ODF.calcAngleDistribution.html">calcAngleDistribution(mdf)</a> and <a href="EBSD.calcAngleDistribution.html">calcAngleDistribution(grains)</a>.</p><h2 id="15">SUB: Axis distribution</h2><p>The same we can do with the axis distribution. First the actual angle distribution of the boundary misorientations</p>
  {% highlight matlab %}
  plotAxisDistribution(grains.boundary(<span class="string">'fo'</span>,<span class="string">'en'</span>).misorientation,<span class="string">'smooth'</span>)
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_05.png" %}
<p>Now the theoretical axis distribution of the uncorrelated MDF.</p>
  {% highlight matlab %}
  plotAxisDistribution(mdf)
  {% endhighlight %}

  {% include inline_image.html file="MDFAnalysis_06.png" %}
<p>For computing the exact values see the commands <a href="ODF.calcAxisDistribution.html">calcAxisDistribution(mdf)</a> and <a href="EBSD.calcAxisDistribution.html">calcAxisDistribution(grains)</a>.</p></div></body></html>