---
title: Visualizing ODFs
last_updated: 10-Sep-2021
sidebar: documentation_sidebar
permalink: ODFPlot.html
folder: documentation
toc: false
---
    <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Visualizing ODFs</title><meta name="generator" content="MATLAB 9.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2021-09-10"><meta name="DC.source" content="script_ODFPlot.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/ODFAnalysis/ODFPlot.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>Since an orientation density function (ODF) is a function on the three dimensional, non Euclidean orientation space its proper visualization is a challenging task. In general one distinguishes two approaches</p><div><ol><li>Choose a parameterisation of the orientation space by three variables, e.g., by the Euler angles \(\varphi_1\), \(\Phi\), \(\varphi_2\) and make a three dimensional half transluent contour plot of the function</li><li>Choose a series of two dimensional sections through the orientation space and plot the ODF only at the sections.</li></ol></div><p>In order to demonstrate the different visualization techniques let us first define a model ODF.</p>
{% highlight matlab %}
cs = crystalSymmetry('32');
mod1 = orientation.byEuler(90*degree,40*degree,110*degree,'ZYZ',cs);
mod2 = orientation.byEuler(50*degree,30*degree,-30*degree,'ZYZ',cs);

odf = 0.1*unimodalODF(mod1) ...
  + 0.2*unimodalODF(mod2) ...
  + 0.7*fibreODF(Miller(0,0,1,cs),vector3d(1,0,0),'halfwidth',10*degree);
{% endhighlight %}
<p>and lets switch to the LaboTex colormap</p>
{% highlight matlab %}
setMTEXpref('defaultColorMap',LaboTeXColorMap);
{% endhighlight %}
<h2 id="4">Three Dimensional Plots</h2><p>Visualizing an ODF in three dimensions in done by the command <a href="ODF.plot3d.html"><code class="language-plaintext highlighter-rouge">plot3d</code></a>.</p>
{% highlight matlab %}
plot3d(odf)
{% endhighlight %}
<center>
{% include inline_image.html file="ODFPlot_01.png" %}
</center><p>By default this command represents the ODF in the Bunge Euler angle space \(\varphi_1\), \(\Phi\), \(\varphi_2\). The range of the Euler angles depends on the crystal symmetry according to the following table</p><p>
   <table class="usertable">
      <tr>
         <td>
               <p>symmetry</p>
         </td>
         <td>
               <p>1</p>
         </td>
         <td>
               <p>2</p>
         </td>
         <td>
               <p>222</p>
         </td>
         <td>
               <p>3</p>
         </td>
         <td>
               <p>32</p>
         </td>
         <td>
               <p>4</p>
         </td>
         <td>
               <p>422</p>
         </td>
         <td>
               <p>6</p>
         </td>
         <td>
               <p>622</p>
         </td>
         <td>
               <p>23</p>
         </td>
         <td>
               <p>432</p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <equation>
                     <img alt="\(\varphi_1\)" class="equation" height="10px"
                          src="0971324306_tmp_eq12909771798853154886.png"
                          width="14px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0766907365_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0401376875_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0885155315_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0736326535_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0388327966_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0830295649_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0736701705_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0650809083_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0255925080_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0332437239_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0527717266_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <equation>
                     <img alt="\(\Phi\)" class="equation" height="10px"
                          src="0271923833_tmp_eq14890829443655089678.png"
                          width="10px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0353966541_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0701857444_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0963029277_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0733859187_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0221399322_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0883049849_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0188048327_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0875729517_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0206638478_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0516411647_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0147494232_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
      </tr>
      <tr>
         <td>
               <p>
                  <equation>
                     <img alt="\(\varphi_2\)" class="equation" height="10px"
                          src="0957405835_tmp_eq12543762679087300560.png"
                          width="14px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(360^{\circ}\)" class="equation" height="11px"
                          src="0886163606_tmp_eq04205630029967935641.png"
                          width="27px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0449431534_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0739128674_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(120^{\circ}\)" class="equation" height="11px"
                          src="0196030659_tmp_eq17452840953382729971.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(120^{\circ}\)" class="equation" height="11px"
                          src="0961771354_tmp_eq17452840953382729971.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0496896222_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0188051667_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(60^{\circ}\)" class="equation" height="11px"
                          src="0894034133_tmp_eq11270310834117044476.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(60^{\circ}\)" class="equation" height="11px"
                          src="0214782120_tmp_eq11270310834117044476.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(180^{\circ}\)" class="equation" height="11px"
                          src="0261073987_tmp_eq10346168241279137799.png"
                          width="26px"/>
                  </equation>
               </p>
         </td>
         <td>
               <p>
                  <equation>
                     <img alt="\(90^{\circ}\)" class="equation" height="11px"
                          src="0193736697_tmp_eq05331026818752462756.png"
                          width="20px"/>
                  </equation>
               </p>
         </td>
      </tr>
   </table>
</p><p>Note that for the last to symmetries the three fold axis is not taken into account, i.e., each orientation appears three times within the Euler angle region. The first Euler angle is not restricted by any crystal symmetry, but only by specimen symmetry. For an arbitrary symmetry the bounds of the fundamental region can be computed by the command <a href="symmetry.fundamentalRegionEuler.html"><code class="language-plaintext highlighter-rouge">fundamentalRegionEuler</code></a></p>
{% highlight matlab %}
[maxphi1,maxPhi,maxphi2] = fundamentalRegionEuler(crystalSymmetry('432'),specimenSymmetry('222'))
{% endhighlight %}

{% highlight plaintext %}
maxphi1 =
    1.5708
maxPhi =
    1.5708
maxphi2 =
    1.5708
{% endhighlight %}
<p>This return the common \(90^{\circ} \times 90^{\circ} \times 90^{\circ}\) cube for cubic crystal and orthorombic specimen symmetry. For an arbitrary orientation</p>
{% highlight matlab %}
ori = orientation.rand(crystalSymmetry('432'),specimenSymmetry('222'))
{% endhighlight %}

{% highlight plaintext %}
ori = orientation (432 -> xyz (222))
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  341.909 152.533 11.8856       0
{% endhighlight %}
<p>the symmetrically equivalent orientation within the fundamental region can be computed using the command <a href="orientation.project2EulerFR.html">project2EulerFR</a></p>
{% highlight matlab %}
[phi1,Phi,phi2] = ori.project2EulerFR;
[phi1,Phi,phi2] ./degree
{% endhighlight %}

{% highlight plaintext %}
ans =
   18.0915   27.4670   11.8856
{% endhighlight %}
<p>A big disadvantage of the Euler angle representation of the orientation space is that it very badly follows the curved geometry of the space.</p><p>Especially for misorientation distribution functions a better alternativ is the three dimensional axis angle space. To visualize an ODF with respect to this parameterization simply add the option <code class="language-plaintext highlighter-rouge">'axisAngle'</code></p>
{% highlight matlab %}
plot3d(odf,'axisAngle','figSize','large')
{% endhighlight %}
<center>
{% include inline_image.html file="ODFPlot_02.png" %}
</center><h2 id="9">ODF Sections</h2><p>Plotting an ODF in two dimensional sections through the orientation space is done using the command <a href="ODF.plotSection.html">plotSection</a>. By default the sections are at constant angles of \(\varphi_2\).</p>
{% highlight matlab %}
plotSection(odf)
{% endhighlight %}
<center>
{% include inline_image.html file="ODFPlot_03.png" %}
</center><p>More information how to customize such plots can be found in the chapter <a href="EulerAngleSections.html">Euler angle sections</a>. Beside the standard \(\varphi_2\) sections MTEX supports also sections according to all other Euler angles.</p><div><ul><li>\(\varphi_2\) (default)</li><li>\(\varphi_1\)</li><li>\(\alpha\) (Matthies Euler angles)</li><li>\(\gamma\) (Matthies Euler angles)</li><li>\(\sigma = \alpha + \gamma\) (recommended)</li></ul></div><p>In fact MTEX highly recommends the so called sigma sections as they provide a much less distorted representation of the orientation space. A detailed description of the sigma sections can be found in the chaper <a href="SigmaSections.html">sigma sections</a>.</p>
{% highlight matlab %}
plotSection(odf,'sigma')
{% endhighlight %}
<center>
{% include inline_image.html file="ODFPlot_04.png" %}
</center><h2 id="11">Plotting the ODF along a fibre</h2><p>For plotting the ODF along a certain fibre we have the command</p>
{% highlight matlab %}
close all

% select a fibre of interest
f = fibre(Miller(1,2,-3,2,cs),vector3d(2,1,1));

plot(odf,f,'LineWidth',2);
{% endhighlight %}
<center>
{% include inline_image.html file="ODFPlot_05.png" %}
</center><p>Finally, lets set back the default colormap.</p>
{% highlight matlab %}
setMTEXpref('defaultColorMap',WhiteJetColorMap);
{% endhighlight %}
</div></body></html>