---
title: The Index of EBSD data
last_updated: 10-Jan-2020
sidebar: documentation_sidebar
permalink: EBSDIndex.html
folder: documentation
toc: false
---
    <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>The Index of EBSD data</title><meta name="generator" content="MATLAB 9.8"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-01-10"><meta name="DC.source" content="script_EBSDIndex.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/EBSDAnalysis/EBSDIndex.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>In previous chapters we have discussed how to select EBSD data by properties. In this chapter we are intested in the order the EBSD are stored within MTEX. Lets start by importing some sample data</p>
{% highlight matlab %}
mtexdata twins
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSD  
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0     46 (0.2%)  notIndexed                                                 
     1  22833 (100%)   Magnesium  LightSkyBlue     6/mmm       X||a*, Y||b, Z||c*
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
{% endhighlight %}
<p>and restricting it to very small rectangular subset</p>
{% highlight matlab %}
poly = [44 0 4 2];
ebsd = ebsd(inpolygon(ebsd,poly));

plot(ebsd,ebsd.orientations,'micronbar','off','edgecolor','k')
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_01.png" %}
</center><p>In the above plot each square corresponds to entry in the variable <code class="language-plaintext highlighter-rouge">ebsd</code>. Lets visualize the order</p>
{% highlight matlab %}
text(ebsd,1:length(ebsd))
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_02.png" %}
</center><p>We may easily select specific measurement pixels by specifying its indeces</p>
{% highlight matlab %}
hold on
plot(ebsd(16:18),'edgeColor','red','facecolor','none','linewidth',4)
legend off
hold off
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_03.png" %}
</center><p>Whether lines or columns run first is not related to MTEX but inherits from the ordering of the imported EBSD data. Since, we have restricted our large EBSD map to the small subset the indece of restricted data does not coincide with the indece of the imported data anymore. However, the original indeces are still stored in <code class="language-plaintext highlighter-rouge">ebsd.id</code>. Lets visualize them</p>
{% highlight matlab %}
plot(ebsd,ebsd.orientations,'micronbar','off','edgecolor','k')
text(ebsd,ebsd.id)
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_04.png" %}
</center><p>In order to select EBSD data according to their original id use the option <code class="language-plaintext highlighter-rouge">'id'</code>, i.e.,</p>
{% highlight matlab %}
hold on
plot(ebsd('id',316:318),'edgeColor','red','facecolor','none','linewidth',4)
legend off
hold off
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_05.png" %}
</center><h2 id="7">Square Grids</h2><p>In the cases of gridded data it is often useful to convert them into a matrix form.</p>
{% highlight matlab %}
ebsd = ebsd.gridify

plot(ebsd,ebsd.orientations,'micronbar','off')

[i,j] = ndgrid(1:size(ebsd,1),1:size(ebsd,2));
str = arrayfun(@(a,b) ['(' int2str(a) ',' int2str(b) ')'],i,j,'UniformOutput',false);
text(ebsd,str)
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSDsquare  
 
 Phase  Orientations    Mineral         Color  Symmetry  Crystal reference frame
     1     98 (100%)  Magnesium  LightSkyBlue     6/mmm       X||a*, Y||b, Z||c*
 
 Id   Phase   phi1   Phi   phi2   bands    bc    bs   error   mad      x     y
  1       1    177   104    183      10   126   236       0   0.5   44.1     0
  2       1    177   104    183      10   131   255       0   0.6   44.1   0.3
  3       1    177   104    182      10   146   255       0   0.6   44.1   0.6
  4       1    177   104    183      10   144   255       0   0.4   44.1   0.9
  5       1    177   104    183       8   139   215       0   0.5   44.1   1.2
  6       1     69   151    218       7   139   181       0   0.4   44.1   1.5
  7       1     69   151    218       9   142   177       0   0.6   44.1   1.8
  8       1    177   104    183      10   141   249       0   0.4   44.4     0
  9       1    177   104    183      10   145   249       0   0.6   44.4   0.3
 10       1    177   104    183      10   154   255       0   0.4   44.4   0.6
 11       1    176   104    183      10   139   245       0   0.5   44.4   0.9
 12       1    177   104    183       8   142   210       0   0.7   44.4   1.2
 13       1     69   151    218       8   139   191       0   0.5   44.4   1.5
 14       1     68   152    218       9   152   173       0   0.4   44.4   1.8
 15       1    177   104    183      10   144   255       0   0.4   44.7     0
 16       1    177   104    183      10   162   255       0   0.4   44.7   0.3
 17       1    177   104    183      10   149   255       0   0.5   44.7   0.6
 18       1    176   104    183       8   146   232       0   0.4   44.7   0.9
 19       1     68   152    218       8   138   196       0   0.4   44.7   1.2
 20       1     69   152    218       8   149   196       0   0.4   44.7   1.5
 21       1     68   151    217       9   161   229       0   0.6   44.7   1.8
 22       1    177   104    183      10   155   255       0   0.4     45     0
 23       1    177   104    183      10   161   255       0   0.5     45   0.3
 24       1    177   104    183      10   145   255       0   0.5     45   0.6
 25       1     69   151    218       7   143   213       0   0.5     45   0.9
 26       1     69   152    218       8   151   199       0   0.4     45   1.2
 27       1     68   152    218       9   152   226       0   0.4     45   1.5
 28       1     68   152    218       9   153   237       0   0.4     45   1.8
 29       1    177   104    183      10   158   255       0   0.4   45.3     0
 30       1    177   104    183      10   155   255       0   0.4   45.3   0.3
 31       1    177   104    183       9   157   207       0   0.6   45.3   0.6
 32       1     68   151    218       8   150   206       0   0.4   45.3   0.9
 33       1     68   152    218       9   159   202       0   0.4   45.3   1.2
 34       1     67   152    218       9   148   206       0   0.5   45.3   1.5
 35       1     67   152    217      10   171   238       0   0.5   45.3   1.8
 36       1    177   104    183      10   164   255       0   0.3   45.6     0
 37       1    177   104    183      10   150   255       0   0.4   45.6   0.3
 38       1     68   151    218       7   147   229       0   0.6   45.6   0.6
 39       1     68   151    218       8   147   175       0   0.6   45.6   0.9
 40       1     69   152    218       9   151   157       0   0.6   45.6   1.2
 41       1     67   152    217       9   173   181       0   0.7   45.6   1.5
 42       1     67   152    217      10   160   210       0   0.6   45.6   1.8
 43       1    177   104    183       9   167   255       0   0.5   45.9     0
 44       1    177   104    183       8   152   248       0   0.5   45.9   0.3
 45       1     69   151    217       8   162   207       0   0.6   45.9   0.6
 46       1     69   151    217       9   157   195       0   0.6   45.9   0.9
 47       1     68   151    217       8   149   168       0   0.4   45.9   1.2
 48       1     67   152    217       9   156   173       0   0.6   45.9   1.5
 49       1     67   152    216      10   158   178       0   0.8   45.9   1.8
 50       1    177   104    183       8   155   255       0   0.6   46.2     0
 51       1     69   151    217       7   153   210       0   0.7   46.2   0.3
 52       1     69   151    217       8   161   192       0   0.3   46.2   0.6
 53       1     68   151    217       8   148   193       0   0.5   46.2   0.9
 54       1     68   151    217       0   155   171       3   0.4   46.2   1.2
 55       1     68   152    217       9   151   169       0   0.6   46.2   1.5
 56       1     67   152    217       9   155   190       0   0.6   46.2   1.8
 57       1     68   151    217       7   156   233       0   0.5   46.5     0
 58       1     68   151    217       8   158   214       0   0.5   46.5   0.3
 59       1     69   151    217       8   148   188       0   0.4   46.5   0.6
 60       1    177   104    183       8   160   188       0   0.3   46.5   0.9
 61       1     68   151    217       8   148   165       0   0.5   46.5   1.2
 62       1     68   152    217       8   156   161       0   0.7   46.5   1.5
 63       1     67   152    216      10   167   162       0   0.6   46.5   1.8
 64       1     68   151    217       7   142   206       0   0.5   46.8     0
 65       1     68   151    217       8   164   178       0   0.4   46.8   0.3
 66       1     68   151    217       8   149   190       0   0.5   46.8   0.6
 67       1    177   104    183       8   156   200       0   0.5   46.8   0.9
 68       1    177   104    183       0   142   186       3   0.5   46.8   1.2
 69       1     68   152    217       8   153   153       0   0.7   46.8   1.5
 70       1     67   152    217       9   143   160       0   0.6   46.8   1.8
 71       1     68   151    217       8   157   199       0   0.4   47.1     0
 72       1     68   151    217       8   151   200       0   0.5   47.1   0.3
 73       1    177   104    183       9   145   188       0   0.4   47.1   0.6
 74       1    177   104    183       9   144   183       0   0.4   47.1   0.9
 75       1    177   104    183       7   143   181       0   0.7   47.1   1.2
 76       1     68   152    217       0   148   153       3   0.7   47.1   1.5
 77       1     68   152    217       9   156   156       0   0.6   47.1   1.8
 78       1     68   151    217       8   159   183       0   0.4   47.4     0
 79       1     69   151    217       9   147   184       0   0.4   47.4   0.3
 80       1    177   104    183       7   146   186       0   0.4   47.4   0.6
 81       1    177   104    183       9   135   184       0   0.5   47.4   0.9
 82       1    177   104    183       7   147   189       0   0.5   47.4   1.2
 83       1    177   104    183       6   139   166       0   0.4   47.4   1.5
 84       1     68   152    217      10   147   180       0   0.6   47.4   1.8
 85       1     68   151    217       9   152   194       0   0.5   47.7     0
 86       1    177   104    183       6   147   198       0   0.3   47.7   0.3
 87       1    177   104    183       8   150   220       0   0.4   47.7   0.6
 88       1    177   104    183       9   140   214       0   0.4   47.7   0.9
 89       1    177   104    183       0   142   204       3   0.5   47.7   1.2
 90       1     69   152    218       8   151   180       0   0.6   47.7   1.5
 91       1     68   152    217       9   155   202       0   0.6   47.7   1.8
 92       1     68   151    217       8   156   184       0   0.6     48     0
 93       1    177   104    183       8   144   214       0   0.3     48   0.3
 94       1    177   104    183       9   138   218       0   0.4     48   0.6
 95       1    177   104    183       9   140   233       0   0.5     48   0.9
 96       1    177   104    183       7   147   218       0   0.3     48   1.2
 97       1     68   152    217       0   147   171       3   0.5     48   1.5
 98       1     68   152    217       9   152   193       0   0.5     48   1.8
 Scan unit : um
 Grid size (square): 7 x 14
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_06.png" %}
</center><p>This allows to select EBSD data simply by their coordinates within the grid, e.g., by</p>
{% highlight matlab %}
hold on
plot(ebsd(2,2:4),'edgeColor','red','facecolor','none','linewidth',4)
legend off
hold off
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_07.png" %}
</center><p>Note that the <a href="EBSD.gridify.html"><code class="language-plaintext highlighter-rouge">gridify</code></a> command changes the order of measurements. They are now sort such that rows runs first and columns second, as this is the default convention how Matlab indexes matrices.</p>
{% highlight matlab %}
plot(ebsd,ebsd.orientations,'micronbar','off')
text(ebsd,1:length(ebsd))
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_08.png" %}
</center><h2 id="10">Hexagonal Grid</h2><p>The command <a href="EBSD.gridify.html"><code class="language-plaintext highlighter-rouge">gridify</code></a> may also be applied to EBSD data measured on a hexagonal grid.</p>
{% highlight matlab %}
mtexdata titanium silent

ebsd = ebsd.gridify
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSDhex  
 
 Phase  Orientations           Mineral         Color  Symmetry  Crystal reference frame
     0    8100 (99%)  Titanium (Alpha)  LightSkyBlue       622        X||a, Y||b*, Z||c
 
 Properties: ci, grainid, iq, sem_signal, x, y
 Scan unit : um
 Grid size (hex): 97 x 84
{% endhighlight %}
<p>This rearranges the measurements in a matrix form which can be indexed similarly as in the square case.</p>
{% highlight matlab %}
ebsd = ebsd(10:16,68:79)
{% endhighlight %}

{% highlight plaintext %}
ebsd = EBSDhex  
 
 Phase  Orientations           Mineral         Color  Symmetry  Crystal reference frame
     0     84 (100%)  Titanium (Alpha)  LightSkyBlue       622        X||a, Y||b*, Z||c
 
   Id   Phase   phi1   Phi   phi2      ci   grainid       iq   sem_signal         x         y
 6509       0    253    90    263   0.568         9   2625.7        17269   809.988   93.5294
 6510       0    254    89    144   0.568         9     2109        18700   803.988   103.922
 6511       0     73    90    337       0         9   1456.2        16960   809.988   114.314
 6512       0    165    47    257   0.105        21     1650        18775   803.988   124.706
 6513       0    166    46     76   0.727        21   2573.6        18643   809.988   135.098
 6514       0    344   134    343   0.427        21   2257.2        17359   803.988    145.49
 6515       0    345   134    343   0.623        21   2652.2        17707   809.988   155.882
 6606       0     73    90    337   0.514         9   2908.7        17988   821.988   93.5294
 6607       0     73    91    277   0.273         9   2726.3        17958   815.988   103.922
 6608       0    253    90    263   0.541         9   2376.7        17819   821.988   114.314
 6609       0    344   134    344   0.191        21   2504.3        19100   815.988   124.706
 6610       0    345   133    344   0.545        21   2565.8        17406   821.988   135.098
 6611       0    344   133    343   0.314        21   2617.7        18815   815.988    145.49
 6612       0    165    47     76   0.659        21   2679.5        17302   821.988   155.882
 6703       0     97    34    312   0.445        11   2278.9        19398   833.988   93.5294
 6704       0    253    90    263   0.414         9   2440.6        17801   827.988   103.922
 6705       0    256   124    272   0.736        10   2723.8        17321   833.988   114.314
 6706       0     77    56    267   0.082        10   2076.9        19492   827.988   124.706
 6707       0    165    47     76   0.527        21   2693.7        17964   833.988   135.098
 6708       0    164    47     76   0.173        21   2531.5        18832   827.988    145.49
 6709       0    165    46     76   0.714        21   2860.4        18481   833.988   155.882
 6800       0    100    34    308   0.632        11   2710.5        17846   845.988   93.5294
 6801       0    279   147    351   0.518        11   3010.7        19321   839.988   103.922
 6802       0    256   124    273   0.573        10   2585.9        17507   845.988   114.314
 6803       0     76    56     87   0.477        10   2644.1        17645   839.988   124.706
 6804       0    166    47     76   0.355        21     2383        18062   845.988   135.098
 6805       0    165    47     76   0.345        21     2555        18085   839.988    145.49
 6806       0    165    46     76   0.473        21   2373.6        18621   845.988   155.882
 6897       0    101    34     68   0.632        11   3051.5        18995   857.987   93.5294
 6898       0    282   147    294   0.618        11   2933.5        18054   851.988   103.922
 6899       0    105    32     60   0.482        11   2987.6        18588   857.987   114.314
 6900       0    255   124    272   0.236        10   2650.4        18038   851.988   124.706
 6901       0     76    56    267   0.468        10     2242        18363   857.987   135.098
 6902       0    165    46     76   0.355        21   2850.9        18331   851.988    145.49
 6903       0    166    47     76   0.514        21   2434.2        17495   857.987   155.882
 6994       0    281   144    231   0.555        11   2462.2        18012   869.987   93.5294
 6995       0    283   146     55   0.814        11   2956.9        19018   863.987   103.922
 6996       0    285   147    298   0.618        11   2770.2        18319   869.987   114.314
 6997       0     76    56    267   0.132        10   2182.6        19707   863.987   124.706
 6998       0     76    56     88   0.368        10   2724.6        18681   869.987   135.098
 6999       0    164    47     76   0.132        21   2433.8        18542   863.987    145.49
 7000       0    345   134    344   0.609        21   2645.9        19400   869.987   155.882
 7091       0    279   144     49   0.736        11   2763.9        18446   881.987   93.5294
 7092       0    101    35    308   0.645        11   2701.2        17552   875.987   103.922
 7093       0    282   146    294     0.8        11   2960.5        17680   881.987   114.314
 7094       0    106    33     61   0.564        11   2548.2        17774   875.987   124.706
 7095       0     74   158     15   0.536        16   2151.4        18090   881.987   135.098
 7096       0     77   158     79   0.041        16   2760.9        18492   875.987    145.49
 7097       0    257    22    282   0.486        16   2653.2        19229   881.987   155.882
 7188       0     97    37    313   0.668        11   2725.5        17829   893.987   93.5294
 7189       0    100    35    309   0.832        11   2180.4        18218   887.987   103.922
 7190       0    281   145    292   0.532        11     2737        18318   893.987   114.314
 7191       0    104    33    124   0.595        11   2688.2        19499   887.987   124.706
 7192       0     75   158    316   0.582        16   2599.4        17622   893.987   135.098
 7193       0    255    22    343   0.655        16   2389.6        18434   887.987    145.49
 7194       0     75   158     16   0.332        16   3111.4        20926   893.987   155.882
 7285       0    276   142    285   0.614        11     2732        17384   905.987   93.5294
 7286       0    279   144    229   0.432        11   2632.7        18338   899.987   103.922
 7287       0    101    36    310   0.664        11   2538.7        17120   905.987   114.314
 7288       0    103    35    307   0.836        11   2881.8        18085   899.987   124.706
 7289       0    255    21    344   0.145        16   2137.4        18762   905.987   135.098
 7290       0     75   158    316     0.4        16   2568.6        18235   899.987    145.49
 7291       0    253    23    346   0.209        16   2173.7        17992   905.987   155.882
 7382       0     93    39    317   0.395        11   2504.9        18404   917.987   93.5294
 7383       0     97    38    314   0.432        11   2918.3        17661   911.987   103.922
 7384       0     97    37    314   0.614        11   2764.4        18393   917.987   114.314
 7385       0    101    36     70   0.732        11   2601.3        18414   911.987   124.706
 7386       0    282   143    230   0.482        11   2677.4        18307   917.987   135.098
 7387       0    255    22    343   0.327        16   2770.9        19411   911.987    145.49
 7388       0    260   165    269   0.668        20   2303.5        18247   917.987   155.882
 7479       0     92    40    317   0.268        11   2792.2        18121   929.986   93.5294
 7480       0    274   141    284   0.395        11   2656.8        18298   923.986   103.922
 7481       0     94    38    317   0.555        11   2852.4        19592   929.986   114.314
 7482       0     98    37    313   0.786        11   2745.1        20203   923.986   124.706
 7483       0     99    38    313   0.327        11   2480.3        18165   929.986   135.098
 7484       0     75    16     97   0.605        20   2483.9        17996   923.986    145.49
 7485       0     75    16     97   0.905        20   2495.1        19437   929.986   155.882
 7576       0     91    40    318   0.305        11   2655.9        18238   941.986   93.5294
 7577       0     92    39    318   0.427        11   2496.9        18243   935.986   103.922
 7578       0    271   141    281   0.645        11   2907.4        18496   941.986   114.314
 7579       0     94    39    317   0.664        11   2537.9        17967   935.986   124.706
 7580       0     94    38    317   0.118        11   1950.2        18420   941.986   135.098
 7581       0     74    15     98   0.545        20   2452.9        18263   935.986    145.49
 7582       0     76    16     96   0.495        20   2659.7        19442   941.986   155.882
 Scan unit : um
 Grid size (hex): 7 x 12
{% endhighlight %}
<p>Lets visualize the matrix coordinates for the hexagonal grid</p>
{% highlight matlab %}
plot(ebsd,ebsd.orientations,'edgeColor','k','micronbar','off')
axis off

[i,j] = ndgrid(1:size(ebsd,1),1:size(ebsd,2));
str = arrayfun(@(a,b) ['(' int2str(a) ',' int2str(b) ')'],i,j,'UniformOutput',false);
text(ebsd,str)
{% endhighlight %}
<center>
{% include inline_image.html file="EBSDIndex_09.png" %}
</center></div></body></html>