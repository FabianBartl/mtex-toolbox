---
title: Select Grain Boundaries
last_updated: 30-Sep-2019
sidebar: documentation_sidebar
permalink: BoundarySelect.html
folder: documentation
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Select Grain Boundaries</title><meta name="generator" content="MATLAB 9.7"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-09-30"><meta name="DC.source" content="script_BoundarySelect.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit BoundarySelect into the Matlab commandline">edit page</a></font><div><!--introduction--><!--/introduction--><p>In this section we explain how to extract specific grain boundaries. Therefore lets start by importing some EBSD data and reconstructing the grain structure.</p><pre class="codeinput">close <span class="string">all</span>; plotx2east

<span class="comment">% import the data</span>
mtexdata <span class="string">forsterite</span>

<span class="comment">% restrict it to a subregion of interest.</span>
ebsd = ebsd(inpolygon(ebsd,[5 2 10 5]*10^3));

[grains,ebsd.grainId] = calcGrains(ebsd(<span class="string">'indexed'</span>));

<span class="comment">% remove very small grains</span>
ebsd(grains(grains.grainSize&lt;=5)) = [];

<span class="comment">% and recompute grains</span>
[grains,ebsd.grainId] = calcGrains(ebsd(<span class="string">'indexed'</span>));

<span class="comment">% smooth the grains a bit</span>
grains = smooth(grains,4);
</pre><p>visualize as a phase map</p><pre class="codeinput">plot(ebsd)
hold <span class="string">on</span>
plot(grains.boundary,<span class="string">'linewidth'</span>,2)
hold <span class="string">off</span>
</pre>
  {% include inline_image.html file="BoundarySelect_01.png" %}
<p>The output of</p><pre class="codeinput">grains.boundary

<span class="comment">% tells us the number of boundary segments between the different phsaes.</span>
<span class="comment">% Those segments with notIndexed phase include also those boundary segments</span>
<span class="comment">% where the grains are cutted by the scanning boundary. To restrict the</span>
<span class="comment">% grain boundaries to a specific phase transistion you shall do</span>

hold <span class="string">on</span>
plot(grains.boundary(<span class="string">'Fo'</span>,<span class="string">'Fo'</span>),<span class="string">'lineColor'</span>,<span class="string">'blue'</span>,<span class="string">'micronbar'</span>,<span class="string">'off'</span>,<span class="string">'lineWidth'</span>,2)
hold <span class="string">off</span>
</pre><pre class="codeoutput"> 
ans = grainBoundary  
 
 Segments   mineral 1   mineral 2
      439  notIndexed  Forsterite
       18  notIndexed   Enstatite
       22  notIndexed    Diopside
     1386  Forsterite  Forsterite
      656  Forsterite   Enstatite
      519  Forsterite    Diopside
       35   Enstatite   Enstatite
      112   Enstatite    Diopside
       28    Diopside    Diopside
</pre>
  {% include inline_image.html file="BoundarySelect_02.png" %}
<p>Similarly we may select all Forsterite to enstatite boundary segements.</p><pre class="codeinput">hold <span class="string">on</span>
plot(grains.boundary(<span class="string">'Fo'</span>,<span class="string">'En'</span>),<span class="string">'lineColor'</span>,<span class="string">'darkgreen'</span>,<span class="string">'micronbar'</span>,<span class="string">'off'</span>,<span class="string">'lineWidth'</span>,2)
hold <span class="string">off</span>
</pre>
  {% include inline_image.html file="BoundarySelect_03.png" %}
<p>Note, that the order of the phase names matter when considering the corresponding misorintations</p><pre class="codeinput">grains.boundary(<span class="string">'Fo'</span>,<span class="string">'En'</span>).misorientation(1)
grains.boundary(<span class="string">'En'</span>,<span class="string">'Fo'</span>).misorientation(1)
</pre><pre class="codeoutput"> 
ans = misorientation  
  size: 1 x 1
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  54.4264 128.248 81.0785       0
 
 
ans = misorientation  
  size: 1 x 1
  crystal symmetry : Enstatite (mmm)
  crystal symmetry : Forsterite (mmm)
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  98.9215 128.248 125.574       0
 
</pre><p>In the fist case the misorientation returned is from Forsterite to Enstatite and in the second case its exactly the inverse</p><p>The selection of grain boundaries according to specific misorientationsm according to twist / tild character or twinning is explained in linked sections.</p></div></body></html>