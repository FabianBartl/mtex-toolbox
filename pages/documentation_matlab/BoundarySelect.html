---
title: Select Grain Boundaries
last_updated: 10-Oct-2019
sidebar: documentation_sidebar
permalink: BoundarySelect.html
folder: documentation
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Select Grain Boundaries</title><meta name="generator" content="MATLAB 9.6"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-10-10"><meta name="DC.source" content="script_BoundarySelect.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit BoundarySelect into the Matlab commandline">edit page</a></font><div><!--introduction--><!--/introduction--><p>In this section we explain how to extract specific grain boundaries. Therefore lets start by importing some EBSD data and reconstructing the grain structure.</p>
{% highlight matlab %}
close all; plotx2east

% import the data
mtexdata forsterite

% restrict it to a subregion of interest.
ebsd = ebsd(inpolygon(ebsd,[5 2 10 5]*10^3));

[grains,ebsd.grainId] = calcGrains(ebsd('indexed'));

% remove very small grains
ebsd(grains(grains.grainSize&lt;=5)) = [];

% and recompute grains
[grains,ebsd.grainId] = calcGrains(ebsd('indexed'));

% smooth the grains a bit
grains = smooth(grains,4);
{% endhighlight %}

{% highlight plaintext %}
 
ebsd = EBSD  
 
 Phase  Orientations     Mineral         Color  Symmetry  Crystal reference frame
     0   58485 (24%)  notIndexed                                                 
     1  152345 (62%)  Forsterite  LightSkyBlue       mmm                         
     2   26058 (11%)   Enstatite  DarkSeaGreen       mmm                         
     3   9064 (3.7%)    Diopside     Goldenrod     12/m1       X||a*, Y||b*, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 

{% endhighlight %}
<p>visualize as a phase map</p>
{% highlight matlab %}
plot(ebsd)
hold on
plot(grains.boundary,'linewidth',2)
hold off
{% endhighlight %}

  {% include inline_image.html file="BoundarySelect_01.png" %}
<p>The output of</p>
{% highlight matlab %}
grains.boundary

% tells us the number of boundary segments between the different phsaes.
% Those segments with notIndexed phase include also those boundary segments
% where the grains are cutted by the scanning boundary. To restrict the
% grain boundaries to a specific phase transistion you shall do

hold on
plot(grains.boundary('Fo','Fo'),'lineColor','blue','micronbar','off','lineWidth',2)
hold off
{% endhighlight %}

{% highlight plaintext %}
 
ans = grainBoundary  
 
 Segments   mineral 1   mineral 2
      439  notIndexed  Forsterite
       18  notIndexed   Enstatite
       22  notIndexed    Diopside
     1386  Forsterite  Forsterite
      656  Forsterite   Enstatite
      519  Forsterite    Diopside
       35   Enstatite   Enstatite
      112   Enstatite    Diopside
       28    Diopside    Diopside

{% endhighlight %}

  {% include inline_image.html file="BoundarySelect_02.png" %}
<p>Similarly we may select all Forsterite to enstatite boundary segements.</p>
{% highlight matlab %}
hold on
plot(grains.boundary('Fo','En'),'lineColor','darkgreen','micronbar','off','lineWidth',2)
hold off
{% endhighlight %}

  {% include inline_image.html file="BoundarySelect_03.png" %}
<p>Note, that the order of the phase names matter when considering the corresponding misorintations</p>
{% highlight matlab %}
grains.boundary('Fo','En').misorientation(1)
grains.boundary('En','Fo').misorientation(1)
{% endhighlight %}

{% highlight plaintext %}
 
ans = misorientation  
  size: 1 x 1
  crystal symmetry : Forsterite (mmm)
  crystal symmetry : Enstatite (mmm)
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  54.4264 128.248 81.0785       0
 
 
ans = misorientation  
  size: 1 x 1
  crystal symmetry : Enstatite (mmm)
  crystal symmetry : Forsterite (mmm)
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  98.9215 128.248 125.574       0
 

{% endhighlight %}
<p>In the fist case the misorientation returned is from Forsterite to Enstatite and in the second case its exactly the inverse</p><p>The selection of grain boundaries according to specific misorientationsm according to twist / tild character or twinning is explained in linked sections.</p></div></body></html>