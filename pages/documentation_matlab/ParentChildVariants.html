---
title: Parent Child Variants
last_updated: 15-Nov-2020
sidebar: documentation_sidebar
permalink: ParentChildVariants.html
folder: documentation
toc: false
---
    <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Parent Child Variants</title><meta name="generator" content="MATLAB 9.9"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-11-15"><meta name="DC.source" content="script_ParentChildVariants.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/PhaseTransistions/ParentChildVariants.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>The crystallographic structure of most materials is dependend on external conditions as temperature and pressure. When the external conditions change the crystals may undergo a phase transition from the inital phase, often called parent phase, into the child phase. While both phases still have the same chemical composition their crystallographic structure might be quite different. A typical example are the alpha and beta phase of titanium. While the alpha phase is hexagonal</p>
{% highlight matlab %}
csAlpha = crystalSymmetry('622',[3 3 4.7],'mineral','Ti (alpha)')
{% endhighlight %}

{% highlight plaintext %}
csAlpha = crystalSymmetry  
 
  mineral        : Ti (alpha)       
  symmetry       : 622              
  elements       : 12               
  a, b, c        : 3, 3, 4.7        
  reference frame: X||a*, Y||b, Z||c
{% endhighlight %}
<p>the beta phase is cubic</p>
{% highlight matlab %}
csBeta = crystalSymmetry('432',[3.3 3.3 3.3],'mineral','Ti (beta)')
{% endhighlight %}

{% highlight plaintext %}
csBeta = crystalSymmetry  
 
  mineral : Ti (beta)    
  symmetry: 432          
  elements: 24           
  a, b, c : 3.3, 3.3, 3.3
{% endhighlight %}
<p>Let <code class="language-plaintext highlighter-rouge">oriParent</code></p>
{% highlight matlab %}
oriParent = orientation.rand(csAlpha)
{% endhighlight %}

{% highlight plaintext %}
oriParent = orientation  
  size: 1 x 1
  crystal symmetry : Ti (alpha) (622, X||a*, Y||b, Z||c)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
    phi1     Phi    phi2    Inv.
  134.68 59.1395  149.41       0
{% endhighlight %}
<p>be the orientation of the atomic lattice befor phase transition and <code class="language-plaintext highlighter-rouge">oriChild</code> the orientation of the atomic lattice after the phase transition. Since during a phase transition the atoms reorder with respect to a minimal energy constraint, both orientations <code class="language-plaintext highlighter-rouge">oriParent</code> and <code class="language-plaintext highlighter-rouge">oriChild</code> are in a specific orientation relationship with respect to each other. In the case of alpha and beta Titanium the dominant orientation relationship is described by the Euler angles</p>
{% highlight matlab %}
alpha2beta = orientation.byEuler(135*degree, 90*degree, 355*degree, csAlpha, csBeta);
{% endhighlight %}
<p>A corresponding child orientation would then be</p>
{% highlight matlab %}
oriChild = oriParent * inv(alpha2beta)
{% endhighlight %}

{% highlight plaintext %}
oriChild = orientation  
  size: 1 x 1
  crystal symmetry : Ti (beta) (432)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  91.6455 140.734 9.13896       0
{% endhighlight %}
<p>This orientation relationship is characterised by the properties that it alignes the c-axis direction of the hexagonal alpha phase with the [110] direction of the cubic beta phase and the [2-1-10] direction of the alpha phase with the  [-11-1] direction of the beta phase.</p>
{% highlight matlab %}
hAlpha = Miller({0,0,0,1},{2,-1,-1,0},csAlpha)
hBeta  = Miller({1,1,0},{1,1,1},csBeta)

plotPDF(oriParent,hAlpha,'layout',[2 2])
nextAxis
plotPDF(oriChild,hBeta)
{% endhighlight %}

{% highlight plaintext %}
hAlpha = Miller  
 size: 1 x 2
 mineral: Ti (alpha) (622, X||a*, Y||b, Z||c)
  h  k  i  l
  0  0  0  1
  2 -1 -1  0
 
hBeta = Miller  
 size: 1 x 2
 mineral: Ti (beta) (432)
  h k l
  1 1 0
  1 1 1
{% endhighlight %}
<center>
{% include inline_image.html file="ParentChildVariants_01.png" %}
</center><p>We could also use these alignment rules to define the orientation relationship as</p>
{% highlight matlab %}
alpha2beta = orientation.map(Miller(0,0,0,1,csAlpha),Miller(1,1,0,csBeta),...
  Miller(2,-1,-1,0,csAlpha),Miller(-1,1,-1,csBeta))
{% endhighlight %}

{% highlight plaintext %}
alpha2beta = misorientation  
  size: 1 x 1
  crystal symmetry : Ti (alpha) (622, X||a*, Y||b, Z||c)
  crystal symmetry : Ti (beta) (432)
 
  Bunge Euler angles in degree
  phi1     Phi    phi2    Inv.
   135      90 354.736       0
{% endhighlight %}
<p>The advantage of the above definition by the alignment of different crystal directions is that it is independent of the <a href="CrystalReferenceSystem.html">convention used for the hexagonal crystal coordinate system</a>.</p><h2 id="9">Child Variants</h2><p>Due to crystal symmetry each orientation of a parent alpha grain has 12 different but symmetrically equivalent representations.</p>
{% highlight matlab %}
oriParentSym = oriParent.symmetrise
{% endhighlight %}

{% highlight plaintext %}
oriParentSym = orientation  
  size: 12 x 1
  crystal symmetry : Ti (alpha) (622, X||a*, Y||b, Z||c)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
    phi1     Phi    phi2    Inv.
  134.68 59.1395  149.41       0
  314.68  120.86 90.5905       0
  134.68 59.1395  209.41       0
  314.68  120.86  150.59       0
  134.68 59.1395  269.41       0
  314.68  120.86  210.59       0
  134.68 59.1395  329.41       0
  314.68  120.86  270.59       0
  134.68 59.1395 29.4095       0
  314.68  120.86  330.59       0
  134.68 59.1395 89.4095       0
  314.68  120.86 30.5905       0
{% endhighlight %}
<p>Applying the <code class="language-plaintext highlighter-rouge">alpha2beta</code> phase relationship to these 12 different represenations we obtain 12 child orientations.</p>
{% highlight matlab %}
oriChild = oriParentSym * inv(alpha2beta)
{% endhighlight %}

{% highlight plaintext %}
oriChild = orientation  
  size: 12 x 1
  crystal symmetry : Ti (beta) (432)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  91.9852 140.888 9.40222       0
  221.669 95.0236 284.007       0
  188.123 134.908 88.5932       0
  175.831 141.565 259.393       0
  227.082  85.989 104.055       0
   80.047 134.087 180.572       0
  271.985  39.112 80.5978       0
  41.6693 84.9764 165.993       0
  8.12285 45.0923 1.40679       0
  355.831 38.4346 190.607       0
  47.0817  94.011 345.945       0
  260.047 45.9129 269.428       0
{% endhighlight %}
<p>However, with respect to cubic crystal symmetry the 12 child orientations are not all symmetrically equivalent anymore. In fact, they form 6 pairs of symmetrically equivalent orientations as depicted in the following inverse pole figure.</p>
{% highlight matlab %}
color = ind2color(14+(1:12));

plotIPDF(oriChild,color,vector3d.Z)
{% endhighlight %}
<center>
{% include inline_image.html file="ParentChildVariants_02.png" %}
</center><p>These 6 pairs are called the variants of the parent orientation <code class="language-plaintext highlighter-rouge">oriParent</code> with respect to the orientation relation ship <code class="language-plaintext highlighter-rouge">alpha2beta</code>. They can be computed more directly using the command <a href="orientation.variants.html"><code class="language-plaintext highlighter-rouge">variants</code></a>.</p>
{% highlight matlab %}
oriChild = variants(alpha2beta,oriParent)

for i = 1:6
  plotIPDF(oriChild(i),ind2color(i),vector3d.Z,'label',i); hold on
end
hold off
{% endhighlight %}

{% highlight plaintext %}
oriChild = orientation  
  size: 1 x 6
  crystal symmetry : Ti (beta) (432)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
  91.9852 140.888 9.40222       0
   80.047 134.087 180.572       0
  47.0817  94.011 345.945       0
  175.831 141.565 259.393       0
  8.12285 45.0923 1.40679       0
  221.669 95.0236 284.007       0
{% endhighlight %}
<center>
{% include inline_image.html file="ParentChildVariants_03.png" %}
</center><p>As we can see each variant can be associated by a <code class="language-plaintext highlighter-rouge">variantId</code>. You can pick specific variants by their <code class="language-plaintext highlighter-rouge">variantId</code> using the syntax</p>
{% highlight matlab %}
oriChild = variants(alpha2beta,oriParent,2:3)
{% endhighlight %}

{% highlight plaintext %}
oriChild = orientation  
  size: 1 x 2
  crystal symmetry : Ti (beta) (432)
  specimen symmetry: 1
 
  Bunge Euler angles in degree
     phi1     Phi    phi2    Inv.
   80.047 134.087 180.572       0
  47.0817  94.011 345.945       0
{% endhighlight %}
<p>Sometimes one faces the inverse question, i.e., determine the <code class="language-plaintext highlighter-rouge">variantId</code> from a parent and a child orientation or a pair of child orientations. This can be done using the command <a href="calcVariants.html"><code class="language-plaintext highlighter-rouge">calcVariants</code></a> which is discussed in detail in the section <a href="ParentGrainReconstruction.html">parent grain reconstruction</a>.</p><h2 id="15">Parent Variants</h2><p>TODO</p></div></body></html>