---
title: merge
last_updated: 05-Mar-2019
sidebar: documentation_sidebar
permalink: grain2d.merge.html
folder: documentation_matlab
toc: false
---

<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>merge</title><meta name="generator" content="MATLAB 9.4"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-03-05"><meta name="DC.source" content="script_grain2d__merge.m"></head><body><font size="2"><a href="#" data-toggle="tooltip" data-original-title="To edit this page type edit grain2d__merge into the Matlab commandline">edit page</a></font><div><!--introduction--><p>(method of [[grain2d_index.html,grain2d]])</p><!--/introduction--><p>merge grains along special grain boundaries</p><p>Whenever two grains share a grain boundary that is in the list <tt>gB</tt> both grains are merged and the common grain boundary is removed. All the properties of the unmerged grains are removed in the merged grains, since there is no common convention for a mean. In case of merging allong small angle grain boundaries one can force MTEX to compute a new meanOrientation using the option <tt>calcMeanOrientation</tt>.</p><h2 id="2">View Code</h2><h2 id="3">Syntax</h2><pre class="language-matlab">[grainsMerged,parentId] = merge(grains,gB)
</pre><pre class="language-matlab"><span class="comment">% compute new meanOrientations for the grains</span>
[grainsMerged,parentId] = merge(grains,gB,<span class="string">'calcMeanOrientation'</span>)
</pre><h2 id="4">Input</h2><p>
   <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
      <tr>
         <td width="100px">
            <tt>grains</tt>
         </td>
         <td>
               <p>[[grain2d_index.html,grain2d]]</p>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>boundary</tt>
         </td>
         <td>
               <p>[[grainBoundary_index.html,grainBoundary]]</p>
         </td>
      </tr>
   </table>
</p><h2 id="5">Output</h2><p>
   <table cellpadding="4" cellspacing="0" class="funcref" width="100%">
      <tr>
         <td width="100px">
            <tt>grainsMerged</tt>
         </td>
         <td>
               <p>[[grain2d_index.html,grain2d]]</p>
         </td>
      </tr>
      <tr>
         <td width="100px">
            <tt>parentId</tt>
         </td>
         <td>
               <p>a list of the same size as grains containing the ids of the merged grains</p>
         </td>
      </tr>
   </table>
</p><h2 id="6">Example</h2><pre class="codeinput">mtexdata <span class="string">small</span>
grains = smooth(calcGrains(ebsd))
</pre></div></body></html>